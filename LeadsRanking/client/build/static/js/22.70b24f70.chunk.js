(this.webpackJsonpMatrix_Dashboard=this.webpackJsonpMatrix_Dashboard||[]).push([[22],{1303:function(e,t,a){"use strict";a.r(t);var n=a(442),s=a(39),l=a(40),i=a(42),o=a(41),r=a(0),c=a.n(r),u=a(61),d=a(432),m=a(30),h=a(90),p=(a(446),a(125)),f=(a(463),a(716)),v=(a(425),a(428),a(431)),g=a(459),y=a(51),b=a.n(y),E=a(430),S=(a(427),a(423)),D=a(530),C=a(424),I=a(531),O=a(533),k=a(563),F=a(532),w=a(420),M=function(e){Object(i.a)(a,e);var t=Object(o.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).handleStartDate=function(e){n.setState({StartDate:e,isUpload:!1},(function(){n.renderProcessFiles()}))},n.state={root:"",PageTitle:"",selectedIvrProduct:"",ivrType:"0",ivrProducts:[],addClass:"",UserId:"",selectedFile:null,uploadFile:"",ManagerId:"",DownloadedFile:"",ResponseData:"",UploadStatusColumns:[],StartDate:b()().format("YYYY-MM-01"),prodId:"",TypeAwsoptions:[8,9,10,15,16],IncentiveFileData:[],isUpload:!1},n.UploadFileList={config:{data:[{Id:1,Display:"First Premium Paid only"},{Id:2,Display:"Free Look Cancellation"},{Id:3,Display:"Quality Score"},{Id:4,Display:"Warning Letters"},{Id:5,Display:"Arrears and Claw backs"},{Id:6,Display:"Incentivemade"},{Id:7,Display:"Payout"},{Id:8,Display:"DocuploadData"},{Id:9,Display:"SI"},{Id:14,Display:"E2E"},{Id:10,Display:"Selections"},{Id:12,Display:"Other Incentive"},{Id:11,Display:"Agent Salary"},{Id:13,Display:"User Group"},{Id:15,Display:"BookingSection"},{Id:16,Display:"AgentSection"}]}},n.ProductList={config:{root:"Products",cols:["ID AS Id","ProductName AS Display"],con:[{Isactive:1}]}},n.dateRangeRef=c.a.createRef(),n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.UserList()}},{key:"fnDatatableCol",value:function(e){return Object(h.e)(e)}},{key:"UserList",value:function(){var e=Object(h.j)().UserID;this.setState({ManagerId:e})}},{key:"onFileChange",value:function(e){console.log(e.target.files[0]),this.setState({selectedFile:e.target.files[0],isUpload:!1})}},{key:"onFileUpload",value:function(e){if(e.preventDefault(),""!=this.state.prodId)if(""!=this.state.uploadFile)if(null!=this.state.selectedFile){var t=new FormData;console.log(t),t.append("myFile",this.state.selectedFile,this.state.selectedFile.name),t.append("TypeId",this.state.uploadFile),t.append("UserId",this.state.ManagerId),t.append("ProductId",this.state.prodId),t.append("ValidFrom",b()(this.state.StartDate).format("YYYY-MM-01")),this.state.TypeAwsoptions.indexOf(parseInt(this.state.uploadFile))>-1?t.append("TypeIsXml",JSON.stringify(!1)):t.append("TypeIsXml",JSON.stringify(!0)),console.log(this.state.selectedFile),document.getElementById("uploadbutton").innerHTML='Upload! <i class="fa fa-spinner fa-spin"></i>',Object(u.C)(t,function(e){console.log(e),document.getElementById("uploadbutton").innerHTML="Upload!",this.setState({ResponseData:e.data.data,isUpload:!0,selectedFile:null}),alert("File uploaded"),document.getElementById("files-upload").value=null,this.renderProcessFiles()}.bind(this))}else Object(E.b)("Please choose Excel File",{type:"error"});else Object(E.b)("Please select Upload File Type",{type:"error"});else Object(E.b)("Please choose Product",{type:"error"})}},{key:"fileData",value:function(){return this.state.selectedFile?c.a.createElement("div",null,c.a.createElement("span",null,"File Name: ",this.state.selectedFile.name),c.a.createElement("p",null,"File Type: ",this.state.selectedFile.type)):c.a.createElement("div",null,c.a.createElement("br",null),c.a.createElement("h4",null,"Choose before Pressing the Upload button"))}},{key:"uploadfilechange",value:function(e,t){var a=this;this.setState({uploadFile:e.target.value,DownloadedFile:"",isUpload:!1},(function(){a.renderProcessFiles()})),1==e.target.value?this.setState({DownloadedFile:"/SampleExcelfiles/FirstPremPaid.xlsx"}):2==e.target.value?this.setState({DownloadedFile:"/SampleExcelfiles/FreeLookCancellation.xlsx"}):3==e.target.value?this.setState({DownloadedFile:"/SampleExcelfiles/AgentScore.xlsx"}):4==e.target.value?this.setState({DownloadedFile:"/SampleExcelfiles/agentwarnings.xlsx"}):5==e.target.value?this.setState({DownloadedFile:"/SampleExcelfiles/Arrears.xlsx"}):6==e.target.value?this.setState({DownloadedFile:"/SampleExcelfiles/incentive.xlsx"}):7==e.target.value?this.setState({DownloadedFile:"/SampleExcelfiles/payout.xlsx"}):12==e.target.value?this.setState({DownloadedFile:"/SampleExcelfiles/OtherIncentive.xlsx"}):11==e.target.value?this.setState({DownloadedFile:"/SampleExcelfiles/UploadCTC.xlsx"}):13==e.target.value?this.setState({DownloadedFile:"/SampleExcelfiles/uploadUserGroup.xlsx"}):14==e.target.value?this.setState({DownloadedFile:"/SampleExcelfiles/E2E.xlsx"}):15==e.target.value?this.setState({DownloadedFile:"/SampleExcelfiles/BookingSection.xlsx"}):16==e.target.value&&this.setState({DownloadedFile:"/SampleExcelfiles/AgentSection.xlsx"})}},{key:"renderDownloadFile",value:function(){if(this.state.DownloadedFile)return c.a.createElement(S.b,{to:this.state.DownloadedFile,target:"_blank",download:!0},"Download Sample Excel File")}},{key:"renderProcessFiles",value:function(){if(this.state.prodId&&this.state.uploadFile)return c.a.createElement(f.default,{ProductId:this.state.prodId,TypeId:this.state.uploadFile,TypeAwsoptions:this.state.TypeAwsoptions,IncentiveMonth:b()(this.state.StartDate).format("YYYY-MM-01"),isUpload:this.state.isUpload})}},{key:"renderUploadStatus",value:function(){if(this.state.ResponseData&&this.state.ResponseData.length>0){var e=[],t=this.state.ResponseData;Object.entries(t[0]).map((function(t){var a=Object(n.a)(t,2),s=a[0];a[1];"Status"==s?e.push({label:"Status",name:"Status",cell:function(e){return c.a.createElement("div",{className:"Status"},e.Status?e.Status:"N.A")}}):"FirstPremPaid"==s||"FLC"==s?e.push({label:s.toString(),name:s.toString(),type:"bool"}):e.push({name:s.toString(),label:s.toString(),searchable:!0})}));var a=this.fnDatatableCol(e);return c.a.createElement(D.a,null,c.a.createElement(C.a,{md:"8"},c.a.createElement(I.a,null,c.a.createElement(O.a,null,c.a.createElement(D.a,null,c.a.createElement(C.a,{md:8},c.a.createElement(k.a,{tag:"h6"},"Upload Data Status")))),c.a.createElement(F.a,null,c.a.createElement(v.a,{columns:a,data:this.state.ResponseData})))))}return null}},{key:"renderMonthField",value:function(){this.state.uploadFile;return c.a.createElement(C.a,{md:2},c.a.createElement(g.a,{onStartDate:this.handleStartDate.bind(this)}," "))}},{key:"productchange",value:function(e,t){var a=this;this.setState({prodId:e.target.value,isUpload:!1},(function(){a.renderProcessFiles()}))}},{key:"render",value:function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"content"},c.a.createElement(E.a,null),c.a.createElement(D.a,null,c.a.createElement(C.a,{md:"12"},c.a.createElement(O.a,null,c.a.createElement(D.a,null,c.a.createElement(C.a,{md:2},c.a.createElement(w.a.Group,{controlId:"product_dropdown"},c.a.createElement(p.a,{firstoption:"Select Product",valueTobefiltered:[2,115,7],col:this.ProductList,onChange:this.productchange.bind(this)}))),c.a.createElement(C.a,{md:3},c.a.createElement(w.a.Group,{controlId:"upload_file_dropdown"},c.a.createElement(p.a,{firstoption:"Select Upload File",value:this.state.uploadFile,col:this.UploadFileList,onChange:this.uploadfilechange.bind(this)})),this.renderDownloadFile()),this.renderMonthField(),c.a.createElement("form",{ref:"form",onSubmit:this.onFileUpload.bind(this)},c.a.createElement("input",{type:"file",id:"files-upload",onChange:this.onFileChange.bind(this)}),c.a.createElement("button",{type:"submit",id:"uploadbutton",className:"btn btn-primary"},"Upload!")))))),this.fileData(),this.renderProcessFiles(),this.renderUploadStatus()))}}]),a}(c.a.Component);t.default=Object(m.b)((function(e){return{CommonData:e.CommonData}}),{GetMySqlData:d.b})(M)},428:function(e,t,a){"use strict";var n=a(39),s=a(40),l=a(42),i=a(41),o=a(0),r=a.n(o),c=a(440),u=function(e){Object(l.a)(a,e);var t=Object(i.a)(a);function a(e){var s;return Object(n.a)(this,a),(s=t.call(this,e)).state={show:s.props.show},s}return Object(s.a)(a,[{key:"componentDidUpdate",value:function(){}},{key:"componentWillReceiveProps",value:function(e){this.setState({show:e.show}),e.show&&setTimeout(function(){this.setState({show:!1})}.bind(this),5e3)}},{key:"render",value:function(){return this.state.show?r.a.createElement(c.a,{variant:this.props.variant},this.props.body):null}}]),a}(r.a.Component);t.a=u},432:function(e,t,a){"use strict";a.d(t,"b",(function(){return c})),a.d(t,"c",(function(){return u})),a.d(t,"d",(function(){return d})),a.d(t,"a",(function(){return m}));var n=a(4),s=a.n(n),l=a(1),i=a(9),o=function(e){return e.dataToSend.state&&e.dataToSend.statename&&localStorage.setItem(e.dataToSend.statename,JSON.stringify(e.data)),{type:i.a.GET_COMMON_SUCCESS,payload:e.data,root:e.dataToSend.root}},r=function(e){return{type:i.a.GET_COMMON_FAIL,payload:e}},c=function(e,t){if(null!=e.data||void 0!=e.data)return function(t,a){t(o({data:e.data,dataToSend:e}))};try{if(e.state&&localStorage.getItem(e.statename)||localStorage.getItem(e.statename))return function(t,a){var n=JSON.parse(localStorage.getItem(e.statename));t(o({data:n,dataToSend:e}))}}catch(a){}return function(a,n){s.a.get(l.a.api.base_url+"/mydb/list/",{params:e}).then((function(n){e.state&&e.statename&&localStorage.setItem(e.statename,JSON.stringify(n.data.data)),t&&t(n),a(o({data:n.data.data[0],dataToSend:e}))})).catch((function(e){a(r(e))}))}},u=function(e,t){return function(a,n){s.a.post(l.a.api.base_url+"/mydb/insert/",{data:e}).then((function(e){var n;t&&t(e),a((n={data:e.data},{type:i.a.INSERT_COMMON_SUCCESS,payload:n.data}))})).catch((function(e){a(function(e){return{type:i.a.INSERT_COMMON_FAIL,payload:e}}(e))}))}},d=function(e,t){return function(a,n){s.a.post(l.a.api.base_url+"/mydb/update/",{data:e}).then((function(e){var n;t&&t(e),a((n={data:e.data},{type:i.a.UPDATE_COMMON_SUCCESS,payload:n.data}))})).catch((function(e){a(function(e){return{type:i.a.UPDATE_COMMON_FAIL,payload:e}}(e))}))}},m=function(e,t){try{if(e.state&&localStorage.getItem(e.statename)||localStorage.getItem(e.statename)){var a=JSON.parse(localStorage.getItem(e.statename));return void t(a)}}catch(n){}s.a.get(l.a.api.base_url+"/mydb/list/",{params:e}).then((function(a){e.state&&e.statename&&localStorage.setItem(e.statename,JSON.stringify(a.data.data)),t(a.data.data)})).catch((function(e){}))}},441:function(e,t,a){"use strict";var n=a(39),s=a(40),l=a(42),i=a(41),o=a(0),r=a.n(o),c=a(61),u=a(90),d=a(1289),m=a(185),h=(a(452),a(453)),p=a.n(h),f=function(e){Object(l.a)(a,e);var t=Object(i.a)(a);function a(e){var s;return Object(n.a)(this,a),(s=t.call(this,e)).state={nodes:[],checked:[],expanded:[]},s}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=2==Object(u.j)().RoleId?75:Object(u.j)().UserID;Object(c.k)({root:"Hierarchy",ManagerId:e,statename:"Hierarchy-"+e,value:this.props.value,state:!0},function(e){var t=JSON.stringify(e).replace(/UserName/g,"label");t=t.replace(this.props.value,"value"),this.setState({nodes:JSON.parse(t)})}.bind(this))}},{key:"componentWillReceiveProps",value:function(e){}},{key:"onButtonClick",value:function(){this.props.handleShow({SelectedSupervisors:this.state.checked}),this.forceUpdate()}},{key:"onMouseEnter",value:function(e){document.getElementById("floating").style.right=0,document.getElementById("handle").style.right="395px"}},{key:"onMouseOut",value:function(e){setTimeout((function(){document.getElementById("floating").style.right="-400px",document.getElementById("handle").style.right="-15px"}),700)}},{key:"RemoveChecked",value:function(e){var t=this.state.checked,a=t.indexOf(e);a>-1&&t.splice(a,1),this.setState(t)}},{key:"onClick",value:function(){}},{key:"render",value:function(){var e=this,t=this.state,a=t.nodes;t.checked;return 0==a.length?null:r.a.createElement("div",{id:"floating",className:"floating",onMouseLeave:this.onMouseOut},r.a.createElement(d.a,null,r.a.createElement(m.a,{md:"8"},r.a.createElement("div",{id:"handle",className:"handle",onClick:this.onMouseEnter},"Filter")),r.a.createElement(m.a,{md:"4"},r.a.createElement("input",{type:"button",className:"btn btn-primary",onClick:this.onButtonClick.bind(this),value:"Show"}))),r.a.createElement(d.a,null,r.a.createElement(m.a,null,r.a.createElement("div",{className:"managers"},r.a.createElement(p.a,{nodes:a,checked:this.state.checked,expanded:this.state.expanded,checkModel:"all",name:"UserName",showNodeIcon:!1,onCheck:function(t){return e.setState({checked:t})},onExpand:function(t){return e.setState({expanded:t})},showExpandAll:!0})))))}}]),a}(r.a.Component);t.a=f},446:function(e,t,a){"use strict";var n=a(39),s=a(40),l=a(42),i=a(41),o=a(0),r=a.n(o),c=a(420),u=a(30),d=a(432),m=function(e){Object(l.a)(a,e);var t=Object(i.a)(a);function a(e){var s;return Object(n.a)(this,a),(s=t.call(this,e)).state={items:[]},s}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.state.items&&0===this.state.items.length&&this.CallApi()}},{key:"componentWillReceiveProps",value:function(e){if(!e.CommonData.isError&&e.CommonData[this.props.col.config.root]){var t=JSON.stringify(e.CommonData[this.props.col.config.root]).replace(this.props.col.config.Idfield,"Id");t=t.replace(this.props.col.config.Displayfield,"Display"),this.setState({items:JSON.parse(t)})}}},{key:"componentWillUpdate",value:function(){}},{key:"CallApi",value:function(){this.props.GetMySqlData({limit:10,skip:0,root:this.props.col.config.root,cols:this.props.col.config.cols,con:this.props.col.config.con,data:this.props.col.config.data,statename:this.props.col.config.statename,state:this.props.col.config.state})}},{key:"render",value:function(){var e=this.state.items,t=this.props,a=t.value,n=t.onChange;return e||(e=[]),0==t.visible?null:r.a.createElement("div",null,r.a.createElement(c.a.Control,{as:"select",disabled:this.props.disabled,value:a,name:this.props.col.name,onChange:n},r.a.createElement("option",{key:0,value:0},this.props.firstoption?this.props.firstoption:"Select"),e.map((function(e){return r.a.createElement("option",{key:e.Id,value:e.Id},e.Display)}))))}}]),a}(r.a.Component);t.a=Object(u.b)((function(e){return{CommonData:e.CommonData}}),{GetMySqlData:d.b})(m)},459:function(e,t,a){"use strict";var n=a(123),s=a(39),l=a(40),i=a(121),o=a(42),r=a(41),c=a(0),u=a.n(c),d=a(420),m=a(51),h=a.n(m),p=a(92),f=(a(187),function(e){Object(o.a)(a,e);var t=Object(r.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).handleStartDateChange=function(e,t){e._isAMomentObject&&(n.props.onStartDate(e.format("YYYY-MM-DD")),n.setState({startdate:e.format("YYYY-MM-DD"),enddate:e.add(30,"days").format("YYYY-MM-DD")},(function(){})))},n.handleEndDateChange=function(e,t){e._isAMomentObject&&(n.props.onEndDate(e.format("YYYY-MM-DD")),n.setState({enddate:e.format("YYYY-MM-DD")},(function(){})))},n.validation=function(e){return e.isBefore(h()())},n.validationEndDate=function(e){return!!e.isBefore(h()(n.state.enddate))&&!e.isBefore(h()(n.state.startdate))},n.handleStartDateChange=n.handleStartDateChange.bind(Object(i.a)(n)),n.handleEndDateChange=n.handleEndDateChange.bind(Object(i.a)(n)),n.state={startdate:h()().format("YYYY-MM-DD")},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){}},{key:"componentWillReceiveProps",value:function(e){}},{key:"getSelectedDateRange",value:function(){return{startdate:this.state.startdate,enddate:this.state.enddate}}},{key:"render",value:function(){var e,t=this;return 0==this.props.visible?null:u.a.createElement(u.a.Fragment,null,u.a.createElement(d.a.Group,{controlId:"startdate_field"},u.a.createElement(p,(e={value:new a,dateFormat:"YYYY-MM-DD"},Object(n.a)(e,"value",this.state.startdate),Object(n.a)(e,"isValidDate",this.validation.bind(this)),Object(n.a)(e,"onChange",(function(e){return t.handleStartDateChange(e)})),Object(n.a)(e,"utc",!0),Object(n.a)(e,"timeFormat",!1),Object(n.a)(e,"className","form-group"),e))))}}]),a}(u.a.Component));t.a=f},463:function(e,t,a){"use strict";var n=a(39),s=a(40),l=a(121),i=a(42),o=a(41),r=a(0),c=a.n(r),u=a(61),d=a(90),m=a(30),h=a(449),p=a.n(h),f=a(441),v=a(91),g=a.n(v),y=a(457),b=a(430),E=(a(427),a(530)),S=a(424),D=a(531),C=a(533),I=a(563),O=a(532),k=a(420),F=function(e){Object(i.a)(a,e);var t=Object(o.a)(a);function a(e){var s;return Object(n.a)(this,a),(s=t.call(this,e)).state={PageTitle:"RealTime Panel",AgentData:[],TotalData:[],items:[],key:"ALL",onBarge:!1,SelectedSupervisors:[],winactive:0,BargeWith:""},s.handleShow=s.handleShow.bind(Object(l.a)(s)),s.statuschange=s.statuschange.bind(Object(l.a)(s)),s._handleKeyDown=s._handleKeyDown.bind(Object(l.a)(s)),s.userAgent=null,s.winactive=0,s.schdular=null,s.columnlist=[{name:"Barging",selector:"Barging",sortable:!0,width:"80px",cell:function(e){return c.a.createElement("div",{className:"BUSY"==e.Status?"":"hide"},c.a.createElement("button",{onClick:function(t){return s.bargecall(t,e)},className:e.Barge?"hide":"show"},c.a.createElement("i",{className:"fa fa-volume-up","aria-hidden":"true"})))}},{name:"Agent Code",selector:"AgentCode",sortable:!0},{name:"Status",selector:"Status",sortable:!0,cell:function(e){return c.a.createElement("div",{className:s.displayStatus(e)+" RealtimeStatus"},s.displayStatus(e))}},{name:"Agent Name",selector:"AgentName",sortable:!0},{name:"Call Type",selector:"CallType"},{name:"Lead Id",selector:"LeadId",sortable:!0},{name:"D.C.",selector:"CallingCompany",sortable:!0},{name:"DIDNo",selector:"DIDNo",sortable:!0},{name:"Since",selector:"LastUpdatedOn",sortable:!0,width:"130px",cell:function(e){return c.a.createElement("div",{className:e.AgentCode},e.LastUpdatedOn?c.a.createElement(g.a,{utc:!0,from:e.ServerTime},e.LastUpdatedOn):"N.A")}},{name:"T Calls",selector:"TotalCalls",width:"70px",sortable:!0},{name:"U Dials",selector:"UniqueDials",width:"70px",sortable:!0},{name:"C Dials",selector:"ConnectedDials",width:"70px",sortable:!0},{name:"T TalkTime",selector:"TotalTalkTime",sortable:!0,width:"130px",cell:function(e){return Object(d.k)(e.TotalTalkTime)}}],s}return Object(s.a)(a,[{key:"componentDidMount",value:function(){Object(d.j)();this.setState({SelectedSupervisors:[this.props.m]},function(){this.UserList()}.bind(this)),null==this.schdular&&(this.schdular=setInterval(function(){(1==this.state.winactive||document.hasFocus())&&this.UserList()}.bind(this),2500),window.addEventListener("message",function(e){"checkactive"==e.data.type&&(this.setState({winactive:e.data.winactive}),this.winactive=e.data.winactive)}.bind(this)))}},{key:"totalList",value:function(){var e=this.props.c;""!=e&&Object(u.t)(e,function(e){this.setState({TotalData:e.data})}.bind(this))}},{key:"UserList",value:function(){var e=this.props.m,t=this.props.c,a=Object(d.j)();this.state.SelectedSupervisors.length>0&&(e=this.state.SelectedSupervisors.join()),""==e&&""==t&&(e=a.EmployeeId,this.setState({SelectedSupervisors:[e]})),Object(u.q)(e,t,function(e){this.setState({AgentData:e.data})}.bind(this))}},{key:"handleShow",value:function(e){this.setState({SelectedSupervisors:e.SelectedSupervisors})}},{key:"componentWillUnmount",value:function(){clearInterval(this.schdular),null!=this.userAgent&&this.userAgent.hangup()}},{key:"displayStatus",value:function(e){var t=this.state.BargeWithAgent;return t&&t.AgentCode==e.AgentCode&&"BUSY"!=e.Status?this.unbargecall():t&&t.AgentCode==e.AgentCode&&e.Status,e.Status.toUpperCase()}},{key:"unbargecall",value:function(e){this.userAgent&&(this.userAgent.hangup(),this.userAgent=null),this.setState({onBarge:!1,BargeWith:"",BargeWithAgent:null})}},{key:"bargecall",value:function(e,t){try{this.userAgent&&(this.userAgent.hangup(),this.userAgent=null);var a={Display:Object(d.j)().EmployeeId,User:Object(d.j)().EmployeeId,Pass:Object(d.j)().EmployeeId,Realm:t.Asterisk_Url,WSServer:"wss://"+t.Asterisk_Url+":8089/ws"};this.LoginAsteriskServer(a,function(){setTimeout(function(){if(this.userAgent){var e="*222"+t.AgentCode;"WFH"!=t.CallingCompany&&"KNOWLARITY"!=t.CallingCompany||(e="*222"+t.DIDNo),this.userAgent.call(e)}this.setState({onBarge:!0,BargeWith:t.AgentCode,BargeWithAgent:t})}.bind(this),1e3)}.bind(this),function(){document.getElementById(t.AgentCode).checked=!1}.bind(this))}catch(e){}}},{key:"LoginAsteriskServer",value:function(e,t,a){if(e){var n={media:{remote:{audio:document.getElementById("audioRemote")}},ua:{uri:e.User+"@"+e.Realm,wsServers:[e.WSServer],authorizationUser:e.Display,password:e.Pass}};y.Web&&(this.userAgent=new y.Web.Simple(n),this.userAgent.on("connected",(function(e){Object(b.b)("Barging Connected!",{type:"success"})})),this.userAgent.on("disconnected",(function(e){})),this.userAgent.on("registered",(function(e){t&&t()})),this.userAgent.on("registrationFailed",(function(e){Object(b.b)("Make sure your VPN is connected!",{type:"error"})})),this.userAgent.on("unregistered",(function(e){Object(b.b)("Dialer issue please contact administrator!",{type:"error"}),a&&a()})),this.userAgent.on("userMediaFailed",(function(e){})),this.userAgent.on("userMediaRequest",(function(e){})),this.userAgent.on("userMedia",(function(e){})),this.userAgent.on("invite",(function(e){})),this.userAgent.on("addStream",(function(e){})),this.userAgent.on("ended",(function(e){})))}return setTimeout(function(){this.userAgent&&this.userAgent.ua&&0==this.userAgent.ua.isRegistered()&&Object(b.b)("Make sure your VPN is connected!",{type:"error"})}.bind(this),1e4),this.userAgent}},{key:"componentWillReceiveProps",value:function(e){e.CommonData.isError}},{key:"statuschange",value:function(e){this.setState({key:e.target.value})}},{key:"filterdata",value:function(e){var t=this,a=this.state.AgentData;if("ALL"===this.state.key)return a;if("Away"===this.state.key){var n=[];return a.forEach((function(e){(new Date-new Date(e.LastUpdatedOn))/1e3>60&&"IDLE"===e.Status&&n.push(e)})),n}var s=[];return a.forEach((function(e){t.state.key.indexOf(e.Status)>-1&&s.push(e)})),s}},{key:"_handleKeyDown",value:function(e){"Enter"===e.key&&this.setState({SelectedSupervisors:[e.target.value]})}},{key:"_handleOnClick",value:function(e){this.setState({SelectedSupervisors:[document.getElementById("EmpId").value]})}},{key:"renderTotalData",value:function(){var e=this.props.c,t=this.state.TotalData;return""!=e?c.a.createElement("div",null,c.a.createElement("div",{className:"totaldata"},c.a.createElement(E.a,null),c.a.createElement(E.a,null,c.a.createElement(S.a,{md:2},c.a.createElement("span",{className:"totaltext"},"Context : ",t.context)),c.a.createElement(S.a,{md:2},c.a.createElement("span",{className:"totaltext"},"Answered : ",t.answered)),c.a.createElement(S.a,{md:2},c.a.createElement("span",{className:"totaltext"},"Unanswered : ",t.unanswered)),c.a.createElement(S.a,{md:2},c.a.createElement("span",{className:"totaltext"},"# Agents : ",t.totalAgents)),c.a.createElement(S.a,{md:2},c.a.createElement("span",{className:"totaltext"},"Waiting Calls : ",t.waitingCalls)),c.a.createElement(S.a,{md:2},c.a.createElement("span",{className:"totaltext"},"# Avail. Agents : ",t.totalAvailableAgents)))),c.a.createElement("br",null)):null}},{key:"render",value:function(){var e=this,t=this.columnlist,a=(this.totalcolumnlist,this.filterdata()),n=this.props.m,s=this.props.c,l=this.state,i=(l.items,l.PageTitle);return c.a.createElement(c.a.Fragment,null,c.a.createElement(b.a,null),c.a.createElement(E.a,null,c.a.createElement(S.a,{md:"12"},c.a.createElement(D.a,null,c.a.createElement(C.a,null,c.a.createElement(E.a,null,c.a.createElement(S.a,{md:3},c.a.createElement(I.a,{tag:"h4"},i)),c.a.createElement(S.a,{md:4},c.a.createElement(I.a,{tag:"h6"},this.state.SelectedSupervisors.join())),c.a.createElement(S.a,{md:3},c.a.createElement("div",{className:"input-group"},c.a.createElement(k.a.Control,{required:!0,type:"text",name:"EmpId",id:"EmpId",onKeyDown:this._handleKeyDown,onChange:function(t){return e.setState({username:t.target.value})},value:this.state.username,placeholder:"Enter Supervisor Id"}),c.a.createElement("div",{className:"input-group-append"},c.a.createElement("button",{onClick:function(t){return e._handleOnClick(t)},className:"btn btn-primary input-group-button"},c.a.createElement("i",{className:"fa fa-search","aria-hidden":"true"}))))),c.a.createElement(S.a,{md:2},c.a.createElement("div",{className:"form-group"},c.a.createElement("select",{className:"form-control",onChange:this.statuschange},c.a.createElement("option",{value:"ALL"},"ALL"),c.a.createElement("option",{value:"IDLE"},"IDLE"),c.a.createElement("option",{value:"Away"},"Away"),c.a.createElement("option",{value:"BUSY"},"BUSY"),c.a.createElement("option",{value:"Lunch,Tea,Training,Meeting,Day End"},"Break"),c.a.createElement("option",{value:"PAUSE"},"PAUSE"),c.a.createElement("option",{value:"Auto Logout,LOGOUT"},"LOGOUT"))),""==n&&""==s?c.a.createElement(f.a,{handleShow:this.handleShow,value:/EmployeeId/g}):null,c.a.createElement("button",{id:"BargeWith",onClick:function(t){return e.unbargecall(t)},className:""==this.state.BargeWith?"hide":"btn btn-primary hangupwith show"},c.a.createElement("i",{className:"fa fa-volume-off","aria-hidden":"true"})," Hang Up With: ",this.state.BargeWith)))),c.a.createElement(O.a,null,c.a.createElement("div",{className:"statusdata"},c.a.createElement(p.a,{columns:t,data:a,pagination:!1,striped:!0,noHeader:!0,highlightOnHover:!0,dense:!0}))))),c.a.createElement("audio",{id:"audioRemote"}),c.a.createElement("audio",{id:"audioLocal"})))}}]),a}(c.a.Component);Object(m.b)((function(e){return{CommonData:e.CommonData}}),{GetCommonData:u.g,GetCommonspData:u.h})(F)},467:function(e,t,a){"use strict";var n=a(0),s=a.n(n);t.a=function(){return s.a.createElement("i",{className:"fa fa-spinner fa-spin"})}},514:function(e,t,a){"use strict";var n=a(39),s=a(40),l=a(42),i=a(41),o=a(0),r=a.n(o),c=a(1336),u=a(1262),d=a(467),m=function(e){Object(l.a)(a,e);var t=Object(i.a)(a);function a(e){var s;return Object(n.a)(this,a),(s=t.call(this,e)).state={show:s.props.show,title:s.props.title,message:s.props.message,isLoading:!1},s}return Object(s.a)(a,[{key:"handleClose",value:function(){this.props.onCancel()}},{key:"handleConfirm",value:function(e){this.setState({isLoading:!0}),this.props.onConfirm()}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(c.a,{show:this.state.show,onHide:function(){return e.handleClose()}},r.a.createElement(c.a.Header,{closeButton:!0},r.a.createElement(c.a.Title,null,this.state.title)),r.a.createElement(c.a.Body,null,this.state.message),r.a.createElement(c.a.Footer,null,r.a.createElement(u.a,{variant:"secondary",onClick:function(){return e.handleClose()}},"No"),r.a.createElement(u.a,{variant:"primary",onClick:function(){return e.handleConfirm()},disabled:this.state.isLoading},"Yes"),this.state.isLoading&&r.a.createElement(d.a,null))))}}]),a}(r.a.Component);t.a=m},716:function(e,t,a){"use strict";a.r(t);var n=a(442),s=a(39),l=a(40),i=a(121),o=a(42),r=a(41),c=a(0),u=a.n(c),d=a(1336),m=a(61),h=a(124),p=a(30),f=a(431),v=a(90),g=a(530),y=a(424),b=a(531),E=a(533),S=a(563),D=a(532),C=(a(425),a(430)),I=(a(427),a(514)),O=a(51),k=a.n(O),F=a(91),w=a.n(F),M=(a(515),function(e){Object(o.a)(a,e);var t=Object(r.a)(a);function a(e){var n;Object(s.a)(this,a),(n=t.call(this,e)).state={isLoaded:!1,showModal:!1,items:[],activePage:1,root:"ProcessIncentiveFile",PageTitle:"ProcessIncentiveFile",FormTitle:"",formvalue:{},event:"",ModalValueChanged:!1,ResetTokenData:"",ConfirmationOpen:!1,processedFileModal:!1,ProcessInfoData:[],confirm:"no",IncentiveFileData:[]},n.handleClose=n.handleClose.bind(Object(i.a)(n)),n.selectedrow={UserID:0,UserName:"",EmployeeId:""};var l=function(e){var t=e.v;return u.a.createElement("span",{title:t},t?t.substring(0,25):"",t&&t.length>25?"...":"")};return n.columnlist=[{name:"Id",label:"Id",type:"hidden",hide:!0,sortable:!1,searchable:!1},{name:"FileName",label:"FileName",type:"string",sortable:!0,searchable:!0,cell:function(e){return u.a.createElement(l,{v:e.FileName})}},{label:"IncentiveMonth",name:"IncentiveMonth",cell:function(e){return u.a.createElement("div",{className:"calldate"},e.IncentiveMonth?u.a.createElement(w.a,{format:"D MMM YYYY",utc:!0},e.IncentiveMonth):"N.A")},sortable:!0,width:"150px"},{name:"UserName",label:"UserName",type:"string",sortable:!0,cell:function(e){return u.a.createElement(l,{v:e.UserName})}},{name:"TypeName",label:"TypeName",type:"string",sortable:!0,cell:function(e){return u.a.createElement(l,{v:e.TypeName})}},{label:"Process File",name:"StatusId",cell:function(e){return u.a.createElement("div",{className:"moreinfo"},1==e.StatusId?u.a.createElement("button",{id:"processfile",className:"btn btn-primary btn-sm",onClick:function(t){return n.showConfirmationModal(t,e)}},"Start Processing"):2==e.StatusId?"In Process":"Processed")},width:"180px"}],n}return Object(l.a)(a,[{key:"fnBindStore",value:function(e,t){var a;"dropdown"==e.type&&(t.CommonData[this.state.root]&&t.CommonData[e.config.root]&&(a=Object(v.l)(t.CommonData[this.state.root],t.CommonData[e.config.root],e.name),this.setState({items:a})))}},{key:"componentDidMount",value:function(){var e=this;this.columnlist.map((function(t){return Object(v.c)(t,e.props)}));var t=Object(v.j)().UserID;console.log("managerid",t,this.props,this.props.StartDate),this.GetIncentiveFiles()}},{key:"componentDidUpdate",value:function(e){e.ProductId===this.props.ProductId&&e.TypeId===this.props.TypeId&&e.IncentiveMonth===this.props.IncentiveMonth&&e.isUpload===this.props.isUpload||this.GetIncentiveFiles()}},{key:"GetIncentiveFiles",value:function(){this.props.GetCommonspData({root:"GetIncentiveFiles",c:"L",params:[{ProductId:this.props.ProductId,TypeId:this.props.TypeId,IncentiveMonth:k()(this.props.IncentiveMonth).format("YYYY-MM-DD")}]},function(e){e.data&&e.data.data[0]&&(console.log(e.data.data[0]),this.setState({IncentiveFileData:e.data.data[0]}))}.bind(this))}},{key:"hideConfirmationModal",value:function(){(this.state.ProcessInfoData&&this.state.ProcessInfoData.length>0&&"yes"==this.state.confirm||"no"==this.state.confirm)&&this.setState({ConfirmationOpen:!1,selectedRow:null})}},{key:"showConfirmationModal",value:function(e,t){console.log("rowwww",t),this.setState({ConfirmationOpen:!0,selectedRow:t})}},{key:"handleConfirmOk",value:function(e){this.setState({confirm:"yes"}),this.processFile(e,this.state.selectedRow)}},{key:"handleProcessedFilePopup",value:function(){this.setState({processedFileModal:!1,ConfirmationOpen:!1}),this.GetIncentiveFiles()}},{key:"processFile",value:function(e,t){Object(m.J)(t,function(e){console.log(e),e.data&&e.data.data&&e.data.data.length>0?this.setState({ProcessInfoData:e.data.data,processedFileModal:!0,confirm:"no"}):(Object(C.b)("Some error occured",{type:"error"}),this.setState({processedFileModal:!1,ConfirmationOpen:!1}),this.GetIncentiveFiles())}.bind(this))}},{key:"componentWillReceiveProps",value:function(e){var t=this;e.CommonData.isError||(this.setState({items:e.CommonData[this.state.root]}),this.columnlist.map((function(a){return t.fnBindStore(a,e)})))}},{key:"fnDatatableCol",value:function(){return Object(v.e)(this.columnlist)}},{key:"handleClose",value:function(){this.setState({showModal:!1})}},{key:"fnCleanData",value:function(e,t){e=Object(v.d)(this.columnlist,e,t),this.setState({formvalue:e})}},{key:"renderModalProcessFile",value:function(){if(this.state.ProcessInfoData&&this.state.ProcessInfoData.length>0){var e=[],t=this.state.ProcessInfoData;Object.entries(t[0]).map((function(t){var a=Object(n.a)(t,2),s=a[0];a[1];"status"==s?e.push({label:"Status",name:"status",cell:function(e){return u.a.createElement("div",{className:"Status"},e.status?e.status:"N.A")}}):"message"==s?e.push({label:"message",name:"message",cell:function(e){return u.a.createElement("div",{className:"Status"},e.message?e.message:"N.A")},searchable:!0}):"FirstPremPaid"==s||"FLC"==s||"IsSI"==s||"IsE2E"==s?e.push({label:s.toString(),name:s.toString(),type:"bool"}):e.push({name:s.toString(),label:s.toString(),searchable:!0})}));var a=Object(v.e)(e);return console.log(a,t),u.a.createElement(f.a,{columns:a,data:t&&t.length>0?t:[],striped:!0,noHeader:!0,highlightOnHover:!0,dense:!0})}return null}},{key:"render",value:function(){var e=this,t=this.fnDatatableCol(),a=this.state,n=(a.items,a.PageTitle),s=(a.showModal,a.FormTitle,a.formvalue,a.ModalValueChanged,a.event,a.ProcessInfoData,a.IncentiveFileData);return u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:"content"},u.a.createElement(C.a,null),u.a.createElement(g.a,null,u.a.createElement(y.a,{md:"12"},u.a.createElement(b.a,null,u.a.createElement(E.a,null,u.a.createElement(g.a,null,u.a.createElement(y.a,{md:8},u.a.createElement(S.a,{tag:"h4"},n)))),u.a.createElement(y.a,{md:12},this.state.ConfirmationOpen&&u.a.createElement(I.a,{onConfirm:function(t){return e.handleConfirmOk(t)},onCancel:function(){return e.hideConfirmationModal()},show:!0,message:"Do You want to process the file ?"}),u.a.createElement(D.a,null,u.a.createElement("div",{class:"inc",style:{height:"fit-content"}},s&&s.length>0&&u.a.createElement(f.a,{columns:t,data:s,pagination:!1}))))))),u.a.createElement(d.a,{show:this.state.processedFileModal,onHide:this.handleProcessedFilePopup.bind(this),dialogClassName:"modal-90w"},u.a.createElement(d.a.Header,{closeButton:!0},u.a.createElement(d.a.Title,null)),u.a.createElement(d.a.Body,null,u.a.createElement("div",{className:"modalmoreinfodata"},this.renderModalProcessFile())),u.a.createElement(d.a.Footer,null))))}}]),a}(u.a.Component));t.default=Object(p.b)((function(e){return{CommonData:e.CommonData}}),{GetCommonData:m.g,InsertData:m.y,UpdateData:m.S,addRecord:h.d,GetCommonspData:m.h})(M)}}]);
//# sourceMappingURL=22.70b24f70.chunk.js.map