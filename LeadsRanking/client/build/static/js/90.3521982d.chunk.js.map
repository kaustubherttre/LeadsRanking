{"version":3,"sources":["views/Chat/ChatUsers.jsx","../node_modules/invariant/browser.js","views/Common/AlertBox.jsx","../node_modules/uncontrollable/lib/esm/utils.js","../node_modules/uncontrollable/lib/esm/hook.js","../node_modules/react-bootstrap/esm/Alert.js"],"names":["ChatUsers","props","handleSave","document","getElementsByName","length","reportValidity","formvalue","JSON","parse","stringify","state","id","event","fnCleanData","UpdateData","root","body","querydata","c","data","toast","type","addRecord","module","od","nd","ts","Date","by","getuser","UserID","handleChange","e","target","checked","_isAMomentObject","format","newselectedList","map","value","parseInt","setState","ModalValueChanged","searchAgent","search","getUsers","condition","inputValue","inputElement","push","username","GetCommonData","limit","skip","cols","con","handleClose","nextProps","showModal","isLoaded","useraction","showUpdateModal","items","activePage","PageTitle","FormTitle","depId","showAlert","AlertMsg","AlertVarient","assignedDepartments","bind","handleShow","selectedrow","name","domainusername","emails","manager","employeeId","department","password","verified","requirePasswordChange","role","list","label","selector","columnlist","hide","editable","config","CommonData","isError","dep","departmentId","depAdded","this","raw_items","_id","roles","address","InsertSuccessData","status","alert","message","error","UpdateSuccessData","row","cell","aria-label","variant","onClick","handleEdit","className","aria-hidden","columns","fnDatatableCol","show","md","tag","Control","ref","input","placeholder","defaultSortFieldId","pagination","striped","highlightOnHover","onHide","dialogClassName","Header","closeButton","Title","Body","col","fnRenderfrmControl","Footer","React","Component","connect","exports","a","b","d","f","undefined","Error","args","argIndex","replace","framesToPop","AlertBox","setTimeout","defaultKey","key","charAt","toUpperCase","substr","_toPropertyKey","arg","hint","prim","Symbol","toPrimitive","res","call","TypeError","String","Number","_toPrimitive","useUncontrolled","Object","keys","reduce","result","fieldName","_extends2","_ref","defaultValue","Utils","propsValue","rest","_objectWithoutPropertiesLoose","handlerName","_useUncontrolledProp","propValue","handler","wasPropRef","useRef","_useState","useState","stateValue","isProp","wasProp","current","useCallback","_len","arguments","Array","_key","apply","concat","useUncontrolledProp","_extends","_excluded","DivStyledAsH4","divWithClassName","displayName","AlertHeading","createWithBsPrefix","AlertLink","SafeAnchor","defaultProps","transition","Fade","closeLabel","Alert","forwardRef","uncontrolledProps","_useUncontrolled","bsPrefix","children","onClose","dismissible","prefix","useBootstrapPrefix","useEventCallback","Transition","createElement","classNames","CloseButton","unmountOnExit","in","Link","Heading"],"mappings":"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","file":"static/js/90.3521982d.chunk.js","sourcesContent":["import React  from \"react\";\nimport { ButtonGroup, Button, Modal, Form } from \"react-bootstrap\";\nimport {\n  GetCommonData,\n  addRecord,\n  UpdateData,\n  GetCommonDataResponse,\n} from \"../../store/actions/CommonMongoAction\";\nimport AlertBox from \"./../Common/AlertBox\";\nimport { connect } from \"react-redux\";\nimport {\n  fnRenderfrmControl,\n  getuser,\n  fnCleanData,\n\n} from \"../../utility/utility.jsx\";\nimport DataTable from \"react-data-table-component\";\nimport {\n  Card,\n  CardHeader,\n  CardBody,\n  CardTitle,\n  Row,\n  Col,\n} from \"reactstrap\";\nimport { toast } from \"react-toastify\";\n\n\nclass ChatUsers extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoaded: false,\n      showModal: false,\n      useraction: \"\",\n      showUpdateModal: false,\n      items: [],\n      activePage: 1,\n      root: \"users\",\n      PageTitle: \" Users\",\n      FormTitle: \"New Users\",\n      formvalue: {},\n      event: \"\",\n      depId:[],\n      search: \"\",\n      showAlert: false,\n      AlertMsg: \"\",\n      AlertVarient: \"\",\n      assignedDepartments: [],\n    };\n    this.handleClose = this.handleClose.bind(this);\n    this.handleShow = this.handleShow.bind(this);\n    this.handleSave = this.handleSave.bind(this);\n    this.searchAgent = this.searchAgent.bind(this);\n    this.getUsers = this.getUsers.bind(this);\n    this.selectedrow = {\n      name: \"\",\n      username: \"\",\n      domainusername:\"\",\n      emails: \"\",\n      manager: \"\",\n      employeeId: \"\",\n      department: [],\n      password: \"\",\n      verified: true,\n      requirePasswordChange: false,\n      role: [],\n    };\n    this.list = [\n      {\n        name: \"Names\",\n        label: \"Names\",\n        selector: \"name\",\n      },\n      {\n        name: \"Username\",\n        label: \"Usernames\",\n        selector: \"username\",\n      },\n      {\n        name: \"Emails\",\n        label: \"Emails\",\n        selector: \"emails\",\n      },\n      {\n        name: \"Manager\",\n        label: \"ManagerId\",\n        selector: \"manager\",\n      },\n      \n    ];\n    this.columnlist = [\n      {\n        name: \"_id\",\n        label: \"id\",\n        type: \"hidden\",\n        hide: true,\n      },\n      {\n        name: \"name\",\n        label: \"Name\",\n      },\n      {\n        name: \"username\",\n        label: \"Username\",\n        editable: false\n      },\n      {\n        name: \"domainusername\",\n        label: \"Domain Username\",\n        editable: false\n      },\n      {\n        name: \"emails\",\n        label: \"Emails\",\n      },\n      {\n        name: \"manager\",\n        label: \"Manager(EmpId)\",\n      },\n      {\n        name: \"employeeId\",\n        label: \"EmployeeId\",\n      },\n      {\n        name: \"department\",\n        label: \"Department\",\n        selector:\"department\",\n        type: \"multiselectMongo\",\n        config: {\n          root: \"livechat_department\",\n          cols: JSON.stringify([\"_id\", \"name\"]),\n          con: {},\n          state: true,\n        },\n      },\n      \n      {\n        name: \"password\",\n        label: \"Password\",\n        editable: false\n      },\n      {\n        name: \"role\",\n        label: \"Role\",\n        type: \"multiselectMongo\",\n        config: {\n          root: \"roles\",\n          cols: JSON.stringify([\"_id\", \"name\"]),\n          con: {},\n        },\n      },\n      {\n        name: \"verified\",\n        label: \"Verified\",\n        type: \"hidden\",\n        hide: true,\n      },\n      {\n        name: \"requirePasswordChange\",\n        label: \"Require Password Changes\",\n        type: \"hidden\",\n        hide: true,\n      },\n      \n    ];\n  }\n  componentWillReceiveProps(nextProps) {\n    if (!nextProps.CommonData.isError) {\n      var department=nextProps.CommonData[\"livechat_department_agents\"];\n      const dep=department && department.map((e)=>{\n        return e.departmentId\n      })\n      var depAdded=nextProps.CommonData[this.state.root];\n     depAdded && depAdded.map((e=>{\n        return e[\"department\"]=dep\n      }))\n      // console.log(\"depAAdded\",depAdded);\n      var raw_items = depAdded\n        ? depAdded.map((e) => {\n            return {\n              _id: e._id,\n              name: e.name || \"--\",\n              verified: e.emails?e.emails[0].verified:'',\n              employeeId:e.employeeId,\n              requirePasswordChange:e.requirePasswordChange,\n              domainusername :e.domainusername || \"--\",\n              department: e.department ? e.department.map(e=>({\"label\": e, \"value\": e})) : null,\n              role: e.roles ? e.roles.map(e => ({\"label\": e, \"value\": e})) : null,\n              username: e.username || \"--\",\n              manager: e.manager || \"--\",  \n              emails:\n                e.emails && e.emails[0] && e.emails[0].address\n                  ? e.emails[0].address\n                  : \"--\",\n            };\n          })\n        : [];\n\n      this.setState({ items: raw_items});\n      this.setState({ showAlert: false})\n    }\n    if (\n      nextProps.CommonData &&\n      nextProps.CommonData.InsertSuccessData &&\n      nextProps.CommonData.InsertSuccessData.status\n    ) {\n      if (nextProps.CommonData.InsertSuccessData.status != 200) {\n        alert(\n          nextProps.CommonData.InsertSuccessData.message ||\n            nextProps.CommonData.InsertSuccessData.error\n        );\n        nextProps.CommonData.InsertSuccessData = [];\n      } else {\n        this.setState({ showModal: false });\n        this.setState({\n          showAlert: true,\n          AlertMsg: \"Record Add Successfully.\",\n          AlertVarient: \"success\",\n        });\n        nextProps.CommonData.InsertSuccessData = [];\n      }\n    }\n    if (\n      nextProps.CommonData &&\n      nextProps.CommonData.UpdateSuccessData &&\n      nextProps.CommonData.UpdateSuccessData.status\n    ) {\n      if (nextProps.CommonData.UpdateSuccessData.status != 200){\n        alert(\n          nextProps.CommonData.UpdateSuccessData.message ||\n            nextProps.CommonData.UpdateSuccessData.error\n        );\n        nextProps.CommonData.UpdateSuccessData=[];\n        this.setState({ showModal: true});\n      }\n      else {\n        this.setState({ showModal: false });\n        this.setState({\n          showAlert: true,\n          AlertMsg: \"Record Updated Successfully.\",\n          AlertVarient: \"success\",\n        });\n        nextProps.CommonData.UpdateSuccessData=[];\n      }\n    }\n  }\n\n\n  handleShow() {\n    this.setState({\n      showAlert: false,\n      useraction: \"SAVE\",\n      formvalue: { ...this.selectedrow },\n      event: \"Add\",\n      showModal: true,\n      FormTitle: \"New User\"\n    });\n  }\n\n  handleEdit(row) {\n    this.setState({\n      formvalue: row,\n      useraction: \"UPDATE\",\n      event: \"Edit\",\n      showModal: true,\n      FormTitle: \"Edit Record\",\n    });\n  }\n\n  fnDatatableCol() {\n    this.list.push({\n      name: \"Action\",\n      cell: (row) => (\n        <ButtonGroup aria-label=\"Basic example\">\n          <Button variant=\"secondary\" onClick={() => this.handleEdit(row)}>\n            <i className=\"fa fa-pencil-square-o\" aria-hidden=\"true\"></i>\n          </Button>\n        </ButtonGroup>\n      ),\n    });\n    return this.list;\n  }\n\n  fnCleanData(formvalue) {\n    formvalue = fnCleanData(this.columnlist, formvalue);\n    this.setState({ formvalue: formvalue });\n  }\n\n  handleSave = () => {\n    if (\n      document.getElementsByName(\"frmChatUsers\").length > 0 &&\n      document.getElementsByName(\"frmChatUsers\")[0].reportValidity()\n    ) {\n      let formvalue = JSON.parse(JSON.stringify(this.state.formvalue));\n      var id = formvalue[\"_id\"];\n      // delete formvalue[\"_id\"];\n     \n\n      if (this.state.event == \"Edit\") {\n        delete formvalue[\"password\"]\n        this.fnCleanData(formvalue);\n        let res = this.props.UpdateData(\n          {\n            root: this.state.root,\n            body: formvalue,\n            querydata: { \"_id\": id },\n            c: \"R\",\n          },\n          function (data) {\n            toast(\"Record Saved Successfully!\", { type: \"success\" });\n          }\n        );\n\n      } else {\n        this.props.addRecord({\n          root: \"users\",\n          body: {\n            module: \"\",\n            od: this.state.od,\n            nd: formvalue,\n            ts: new Date(),\n            by: getuser().UserID,\n          },\n        });\n      }\n    }\n  };\n\n  handleChange = (e, props) => {\n    let formvalue = this.state.formvalue;\n    let od = this.state.od;\n\n    if (e.target && e.target.type == \"checkbox\") {\n      formvalue[e.target.id] = e.target.checked;\n    } else if (e._isAMomentObject) {\n      formvalue[props] = e.format();\n    } else {\n      if (e.type == \"multiselect\") {\n        formvalue[e.id] =\n          e.newselectedList && e.newselectedList.length\n            ? e.newselectedList.map((e) => e.value)\n            : [];\n      } else {\n        formvalue[e.target.id] =\n          e.target.type === \"number\"\n            ? parseInt(e.target.value)\n            : e.target.value;\n      }\n    }\n    this.setState({ formvalue: formvalue, ModalValueChanged: true });\n  };\n  searchAgent = (e) => {\n    this.setState({ search: e.target.value });\n  };\n\n  getUsers = () => {\n    let condition = [];\n    const inputValue = this.inputElement.value;\n    if (!!inputValue) {\n      condition.push({ username: inputValue });\n    }\n    this.props.GetCommonData({\n      limit: 20,\n      skip: 0,\n      root: this.state.root,\n      cols: JSON.stringify([\"name\", \"username\", \"emails\", \"verified\",\n      \"manager\",\"requirePasswordChange\",\"employeeId\",\"domainusername\",\"roles\"]),\n      con: condition,\n      c: \"R\",\n    });\n    this.props.GetCommonData({\n      limit: 20,\n      skip: 0,\n      root: \"livechat_department_agents\",\n      cols: JSON.stringify([\"departmentId\"]),\n      con: condition,\n      c: \"R\",\n    });\n\n  };\n  handleClose = (nextProps) => {\n    this.setState({ showModal: false });\n  };\n\n  render() {\n    const columns = this.fnDatatableCol();\n    const {\n      items,\n      search,\n      useraction,\n      PageTitle,\n      showModal,\n      showUpdateModal,\n      FormTitle,\n      formvalue,\n      showAlert,\n      AlertVarient,\n      AlertMsg,\n    } = this.state;\n    // console.log(\"formvalue\",formvalue);\n    return (\n      <>\n        <div className=\"content\">\n          <AlertBox\n            show={showAlert}\n            variant={AlertVarient}\n            body={AlertMsg}\n          ></AlertBox>\n          <Row>\n            <Col md=\"12\">\n              <Card>\n                <CardHeader>\n                  <Row>\n                    <Col md={11}>\n                      <CardTitle tag=\"h4\">{PageTitle}</CardTitle>\n                    </Col>\n\n                    <Col md=\"4\">\n                      <Form.Control\n                        type=\"text\"\n                        ref={(input) => {\n                          this.inputElement = input;\n                        }}\n                        // onChange={this.searchAgent}\n                        placeholder={\"Enter Username\"}\n                      />\n                    </Col>\n                    <Col md={1}>\n                      <Button variant=\"primary\" onClick={this.getUsers}>\n                        Fetch\n                      </Button>\n                    </Col>\n\n                    <Col md={2}>\n                      <Button variant=\"primary\" onClick={this.handleShow}>\n                       ADD USER\n                      </Button>\n                    </Col>\n                  </Row>\n                </CardHeader>\n                <CardBody>\n                  <DataTable\n                    columns={columns}\n                    data={items}\n                    defaultSortFieldId={1}\n                    pagination\n                    striped={true}\n                    highlightOnHover\n                  />\n                  {/* <DataTable columns={this.columnlist} data={items} /> */}\n                </CardBody>\n              </Card>\n            </Col>\n          </Row>\n          <Modal\n            show={showModal}\n            onHide={this.handleClose}\n            dialogClassName=\"modal-90w\"\n          >\n            <Modal.Header closeButton>\n              <Modal.Title>{FormTitle}</Modal.Title>\n            </Modal.Header>\n            <Modal.Body>\n              <Form name=\"frmChatUsers\">\n                <Row>\n                  {this.columnlist.map((col) =>\n                    fnRenderfrmControl(\n                      col,\n                      formvalue,\n                      this.handleChange,\n                      this.state.event\n                    )\n                  )}\n                </Row>\n              </Form>\n            </Modal.Body>\n            <Modal.Footer>\n              <Button variant=\"secondary\" onClick={this.handleClose}>\n                Close\n              </Button>\n              <Button variant=\"primary\" onClick={this.handleSave}>\n              {useraction}\n              </Button>\n            </Modal.Footer>\n          </Modal>\n\n          \n        </div>\n      </>\n    );\n  }\n}\nfunction mapStateToProps(state) {\n  return {\n    CommonData: state.CommonData,\n  };\n}\nexport default connect(mapStateToProps, {\n  GetCommonData,\n  addRecord,\n  UpdateData,\n  addRecord,\n})(ChatUsers);","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\n/**\n * Use invariant() to assert state which your program assumes to be true.\n *\n * Provide sprintf-style format (only %s is supported) and arguments\n * to provide information about what broke and what you were\n * expecting.\n *\n * The invariant message will be stripped in production, but the invariant\n * will remain to ensure logic does not differ in production.\n */\n\nvar invariant = function(condition, format, a, b, c, d, e, f) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (format === undefined) {\n      throw new Error('invariant requires an error message argument');\n    }\n  }\n\n  if (!condition) {\n    var error;\n    if (format === undefined) {\n      error = new Error(\n        'Minified exception occurred; use the non-minified dev environment ' +\n        'for the full error message and additional helpful warnings.'\n      );\n    } else {\n      var args = [a, b, c, d, e, f];\n      var argIndex = 0;\n      error = new Error(\n        format.replace(/%s/g, function() { return args[argIndex++]; })\n      );\n      error.name = 'Invariant Violation';\n    }\n\n    error.framesToPop = 1; // we don't care about invariant's own frame\n    throw error;\n  }\n};\n\nmodule.exports = invariant;\n","\r\nimport React from \"react\";\r\nimport { Alert } from 'react-bootstrap';\r\n\r\n\r\nclass AlertBox extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            show: this.props.show\r\n        }\r\n    }\r\n    componentDidUpdate() {\r\n\r\n    }\r\n    componentWillReceiveProps(nextProps) {\r\n        this.setState({ show: nextProps.show });\r\n        if (nextProps.show) {\r\n            setTimeout(function () {\r\n                this.setState({ show: false });\r\n            }.bind(this), 5000);\r\n        }\r\n    }\r\n    render() {\r\n        if (this.state.show) {\r\n            return (\r\n                <Alert variant={this.props.variant}>\r\n                    {this.props.body}\r\n                </Alert>\r\n            );\r\n        }\r\n        else {\r\n            return null;\r\n        }\r\n    }\r\n}\r\n\r\nexport default AlertBox;\r\n","import invariant from 'invariant';\n\nvar noop = function noop() {};\n\nfunction readOnlyPropType(handler, name) {\n  return function (props, propName) {\n    if (props[propName] !== undefined) {\n      if (!props[handler]) {\n        return new Error(\"You have provided a `\" + propName + \"` prop to `\" + name + \"` \" + (\"without an `\" + handler + \"` handler prop. This will render a read-only field. \") + (\"If the field should be mutable use `\" + defaultKey(propName) + \"`. \") + (\"Otherwise, set `\" + handler + \"`.\"));\n      }\n    }\n  };\n}\n\nexport function uncontrolledPropTypes(controlledValues, displayName) {\n  var propTypes = {};\n  Object.keys(controlledValues).forEach(function (prop) {\n    // add default propTypes for folks that use runtime checks\n    propTypes[defaultKey(prop)] = noop;\n\n    if (process.env.NODE_ENV !== 'production') {\n      var handler = controlledValues[prop];\n      !(typeof handler === 'string' && handler.trim().length) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Uncontrollable - [%s]: the prop `%s` needs a valid handler key name in order to make it uncontrollable', displayName, prop) : invariant(false) : void 0;\n      propTypes[prop] = readOnlyPropType(handler, displayName);\n    }\n  });\n  return propTypes;\n}\nexport function isProp(props, prop) {\n  return props[prop] !== undefined;\n}\nexport function defaultKey(key) {\n  return 'default' + key.charAt(0).toUpperCase() + key.substr(1);\n}\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n\nexport function canAcceptRef(component) {\n  return !!component && (typeof component !== 'function' || component.prototype && component.prototype.isReactComponent);\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\n\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return typeof key === \"symbol\" ? key : String(key); }\n\nfunction _toPrimitive(input, hint) { if (typeof input !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (typeof res !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\n\nimport { useCallback, useRef, useState } from 'react';\nimport * as Utils from './utils';\n\nfunction useUncontrolledProp(propValue, defaultValue, handler) {\n  var wasPropRef = useRef(propValue !== undefined);\n\n  var _useState = useState(defaultValue),\n      stateValue = _useState[0],\n      setState = _useState[1];\n\n  var isProp = propValue !== undefined;\n  var wasProp = wasPropRef.current;\n  wasPropRef.current = isProp;\n  /**\n   * If a prop switches from controlled to Uncontrolled\n   * reset its value to the defaultValue\n   */\n\n  if (!isProp && wasProp && stateValue !== defaultValue) {\n    setState(defaultValue);\n  }\n\n  return [isProp ? propValue : stateValue, useCallback(function (value) {\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n\n    if (handler) handler.apply(void 0, [value].concat(args));\n    setState(value);\n  }, [handler])];\n}\n\nexport { useUncontrolledProp };\nexport default function useUncontrolled(props, config) {\n  return Object.keys(config).reduce(function (result, fieldName) {\n    var _extends2;\n\n    var _ref = result,\n        defaultValue = _ref[Utils.defaultKey(fieldName)],\n        propsValue = _ref[fieldName],\n        rest = _objectWithoutPropertiesLoose(_ref, [Utils.defaultKey(fieldName), fieldName].map(_toPropertyKey));\n\n    var handlerName = config[fieldName];\n\n    var _useUncontrolledProp = useUncontrolledProp(propsValue, defaultValue, props[handlerName]),\n        value = _useUncontrolledProp[0],\n        handler = _useUncontrolledProp[1];\n\n    return _extends({}, rest, (_extends2 = {}, _extends2[fieldName] = value, _extends2[handlerName] = handler, _extends2));\n  }, props);\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nvar _excluded = [\"bsPrefix\", \"show\", \"closeLabel\", \"className\", \"children\", \"variant\", \"onClose\", \"dismissible\", \"transition\"];\nimport classNames from 'classnames';\nimport React from 'react';\nimport { useUncontrolled } from 'uncontrollable';\nimport useEventCallback from '@restart/hooks/useEventCallback';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport Fade from './Fade';\nimport CloseButton from './CloseButton';\nimport divWithClassName from './divWithClassName';\nimport createWithBsPrefix from './createWithBsPrefix';\nimport SafeAnchor from './SafeAnchor';\nvar DivStyledAsH4 = divWithClassName('h4');\nDivStyledAsH4.displayName = 'DivStyledAsH4';\nvar AlertHeading = createWithBsPrefix('alert-heading', {\n  Component: DivStyledAsH4\n});\nvar AlertLink = createWithBsPrefix('alert-link', {\n  Component: SafeAnchor\n});\nvar defaultProps = {\n  show: true,\n  transition: Fade,\n  closeLabel: 'Close alert'\n};\nvar Alert = /*#__PURE__*/React.forwardRef(function (uncontrolledProps, ref) {\n  var _useUncontrolled = useUncontrolled(uncontrolledProps, {\n    show: 'onClose'\n  }),\n      bsPrefix = _useUncontrolled.bsPrefix,\n      show = _useUncontrolled.show,\n      closeLabel = _useUncontrolled.closeLabel,\n      className = _useUncontrolled.className,\n      children = _useUncontrolled.children,\n      variant = _useUncontrolled.variant,\n      onClose = _useUncontrolled.onClose,\n      dismissible = _useUncontrolled.dismissible,\n      transition = _useUncontrolled.transition,\n      props = _objectWithoutPropertiesLoose(_useUncontrolled, _excluded);\n\n  var prefix = useBootstrapPrefix(bsPrefix, 'alert');\n  var handleClose = useEventCallback(function (e) {\n    if (onClose) {\n      onClose(false, e);\n    }\n  });\n  var Transition = transition === true ? Fade : transition;\n  var alert = /*#__PURE__*/React.createElement(\"div\", _extends({\n    role: \"alert\"\n  }, !Transition ? props : undefined, {\n    ref: ref,\n    className: classNames(className, prefix, variant && prefix + \"-\" + variant, dismissible && prefix + \"-dismissible\")\n  }), dismissible && /*#__PURE__*/React.createElement(CloseButton, {\n    onClick: handleClose,\n    label: closeLabel\n  }), children);\n  if (!Transition) return show ? alert : null;\n  return /*#__PURE__*/React.createElement(Transition, _extends({\n    unmountOnExit: true\n  }, props, {\n    ref: undefined,\n    in: show\n  }), alert);\n});\nAlert.displayName = 'Alert';\nAlert.defaultProps = defaultProps;\nAlert.Link = AlertLink;\nAlert.Heading = AlertHeading;\nexport default Alert;"],"sourceRoot":""}