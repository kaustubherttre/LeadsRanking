(this.webpackJsonpMatrix_Dashboard=this.webpackJsonpMatrix_Dashboard||[]).push([[104],{1319:function(e,t,a){"use strict";a.r(t);var n=a(442),l=a(39),o=a(40),s=a(42),r=a(41),i=a(0),c=a.n(i),u=a(61),d=a(432),m=a(30),p=a(90),f=(a(125),a(425),a(428),a(431)),h=a(430),b=(a(427),a(423)),S=a(530),y=a(424),E=a(531),g=a(533),v=a(563),O=a(532),D=function(e){Object(s.a)(a,e);var t=Object(r.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={root:"",PageTitle:"",addClass:"",UserId:"",selectedFile:null,ManagerId:"",DownloadedFile:"/SampleExcelfiles/LeadRejectionData.xlsx",ResponseData:"",UploadStatusColumns:[],prodId:""},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.UserList()}},{key:"fnDatatableCol",value:function(e){return Object(p.e)(e)}},{key:"UserList",value:function(){var e=Object(p.j)().UserID;this.setState({ManagerId:e})}},{key:"onFileChange",value:function(e){console.log(e.target.files[0]),this.setState({selectedFile:e.target.files[0]})}},{key:"onFileUpload",value:function(e){if(e.preventDefault(),null!=this.state.selectedFile){var t=new FormData;console.log(t),t.append("myFile",this.state.selectedFile,this.state.selectedFile.name),t.append("UserId",this.state.ManagerId),console.log(this.state.selectedFile),document.getElementById("uploadbutton").innerHTML='Upload! <i class="fa fa-spinner fa-spin"></i>';try{Object(u.D)(t,function(e){console.log(e),document.getElementById("uploadbutton").innerHTML="Upload!",this.setState({ResponseData:e.data.data}),alert("File uploaded")}.bind(this))}catch(e){console.log(e)}}else Object(h.b)("Please choose Excel File",{type:"error"})}},{key:"fileData",value:function(){return this.state.selectedFile?c.a.createElement("div",null,c.a.createElement("span",null,"File Name: ",this.state.selectedFile.name),c.a.createElement("p",null,"File Type: ",this.state.selectedFile.type)):c.a.createElement("div",null,c.a.createElement("br",null),c.a.createElement("h4",null,"Choose before Pressing the Upload button"))}},{key:"renderDownloadFile",value:function(){return c.a.createElement(b.b,{to:this.state.DownloadedFile,target:"_blank",download:!0},"Download Sample Excel File")}},{key:"renderUploadStatus",value:function(){if(this.state.ResponseData&&this.state.ResponseData.length>0){var e=[],t=this.state.ResponseData;Object.entries(t[0]).map((function(t){var a=Object(n.a)(t,2),l=a[0];a[1];"Status"==l?e.push({label:"Status",name:"Status",cell:function(e){return c.a.createElement("div",{className:"Status"},e.Status?e.Status:"N.A")}}):e.push({name:l.toString(),label:l.toString(),searchable:!0})}));var a=this.fnDatatableCol(e);return c.a.createElement(S.a,null,c.a.createElement(y.a,{md:"12"},c.a.createElement(E.a,null,c.a.createElement(g.a,null,c.a.createElement(S.a,null,c.a.createElement(y.a,{md:12},c.a.createElement(v.a,{tag:"h6"},"Upload Data Status")))),c.a.createElement(O.a,null,c.a.createElement(f.a,{columns:a,data:this.state.ResponseData})))))}return null}},{key:"render",value:function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"content"},c.a.createElement(h.a,null),c.a.createElement(S.a,null,c.a.createElement(y.a,{md:"12"},c.a.createElement(E.a,null,c.a.createElement(g.a,null,c.a.createElement(S.a,null,c.a.createElement(y.a,{md:6},c.a.createElement("form",{ref:"form",onSubmit:this.onFileUpload.bind(this)},c.a.createElement("input",{type:"file",onChange:this.onFileChange.bind(this)}),c.a.createElement("button",{type:"submit",id:"uploadbutton",className:"btn btn-primary"},"Upload!")))),this.renderDownloadFile()),c.a.createElement(O.a,null,this.fileData(),this.renderUploadStatus()))))))}}]),a}(c.a.Component);t.default=Object(m.b)((function(e){return{CommonData:e.CommonData}}),{GetMySqlData:d.b})(D)},428:function(e,t,a){"use strict";var n=a(39),l=a(40),o=a(42),s=a(41),r=a(0),i=a.n(r),c=a(440),u=function(e){Object(o.a)(a,e);var t=Object(s.a)(a);function a(e){var l;return Object(n.a)(this,a),(l=t.call(this,e)).state={show:l.props.show},l}return Object(l.a)(a,[{key:"componentDidUpdate",value:function(){}},{key:"componentWillReceiveProps",value:function(e){this.setState({show:e.show}),e.show&&setTimeout(function(){this.setState({show:!1})}.bind(this),5e3)}},{key:"render",value:function(){return this.state.show?i.a.createElement(c.a,{variant:this.props.variant},this.props.body):null}}]),a}(i.a.Component);t.a=u},432:function(e,t,a){"use strict";a.d(t,"b",(function(){return c})),a.d(t,"c",(function(){return u})),a.d(t,"d",(function(){return d})),a.d(t,"a",(function(){return m}));var n=a(4),l=a.n(n),o=a(1),s=a(9),r=function(e){return e.dataToSend.state&&e.dataToSend.statename&&localStorage.setItem(e.dataToSend.statename,JSON.stringify(e.data)),{type:s.a.GET_COMMON_SUCCESS,payload:e.data,root:e.dataToSend.root}},i=function(e){return{type:s.a.GET_COMMON_FAIL,payload:e}},c=function(e,t){if(null!=e.data||void 0!=e.data)return function(t,a){t(r({data:e.data,dataToSend:e}))};try{if(e.state&&localStorage.getItem(e.statename)||localStorage.getItem(e.statename))return function(t,a){var n=JSON.parse(localStorage.getItem(e.statename));t(r({data:n,dataToSend:e}))}}catch(a){}return function(a,n){l.a.get(o.a.api.base_url+"/mydb/list/",{params:e}).then((function(n){e.state&&e.statename&&localStorage.setItem(e.statename,JSON.stringify(n.data.data)),t&&t(n),a(r({data:n.data.data[0],dataToSend:e}))})).catch((function(e){a(i(e))}))}},u=function(e,t){return function(a,n){l.a.post(o.a.api.base_url+"/mydb/insert/",{data:e}).then((function(e){var n;t&&t(e),a((n={data:e.data},{type:s.a.INSERT_COMMON_SUCCESS,payload:n.data}))})).catch((function(e){a(function(e){return{type:s.a.INSERT_COMMON_FAIL,payload:e}}(e))}))}},d=function(e,t){return function(a,n){l.a.post(o.a.api.base_url+"/mydb/update/",{data:e}).then((function(e){var n;t&&t(e),a((n={data:e.data},{type:s.a.UPDATE_COMMON_SUCCESS,payload:n.data}))})).catch((function(e){a(function(e){return{type:s.a.UPDATE_COMMON_FAIL,payload:e}}(e))}))}},m=function(e,t){try{if(e.state&&localStorage.getItem(e.statename)||localStorage.getItem(e.statename)){var a=JSON.parse(localStorage.getItem(e.statename));return void t(a)}}catch(n){}l.a.get(o.a.api.base_url+"/mydb/list/",{params:e}).then((function(a){e.state&&e.statename&&localStorage.setItem(e.statename,JSON.stringify(a.data.data)),t(a.data.data)})).catch((function(e){}))}}}]);
//# sourceMappingURL=104.8142c625.chunk.js.map