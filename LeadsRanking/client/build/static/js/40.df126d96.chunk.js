(this.webpackJsonpMatrix_Dashboard=this.webpackJsonpMatrix_Dashboard||[]).push([[40],{1338:function(e,t,a){"use strict";a.r(t);var n=a(123),r=a(39),s=a(40),o=a(121),l=a(42),i=a(41),u=a(0),c=a.n(u),d=a(61),m=a(432),h=a(30),p=a(90),f=(a(446),a(431)),S=a(448),D=(a(125),a(420)),y=a(1289),v=a(185),E=(a(452),a(453)),b=a.n(E),g=a(583),C=a(64),M=a(51),L=a.n(M),O=a(53),I=function(e){Object(l.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).state={CourseData:[],selecteddata:"",selectedValue:[{label:"Select Course",value:"0"}]},n.onSelect=n.onSelect.bind(Object(o.a)(n)),n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){}},{key:"componentWillReceiveProps",value:function(e){(e.ProductId&&e.ProductId!=this.props.ProductId||e.StartDate!=this.props.StartDate||e.EndDate!=this.props.EndDate)&&(this.fetchCourseData(e.ProductId,e.StartDate,e.EndDate),this.setState({selectedValue:[{label:"Select Course",value:"0"}]}))}},{key:"fetchCourseData",value:function(e,t,a){Object(d.n)(e,function(e){var n=e.data.data,r=this.enumerateDaysBetweenDates(t,a),s=n.filter((function(e){return O.a.contains(r,e.date)}));this.setState({CourseData:s})}.bind(this))}},{key:"enumerateDaysBetweenDates",value:function(e,t){var a=[];a.push(e);for(var n=L()(e).startOf("day"),r=L()(t).startOf("day");n.add(1,"days").diff(r)<0;)a.push(n.format("YYYY-MM-DD"));return a.push(t),a}},{key:"onSelect",value:function(e,t){console.log(e);var a=e.filter((function(e){return"Select Course"!==e.label}));this.setState({selectedValue:a}),this.props.onSelectCourse(a),console.log(this.props)}},{key:"render",value:function(){return 0==this.props.visible?null:c.a.createElement("div",null,c.a.createElement(D.a.Group,{controlId:"course_dropdown"},c.a.createElement(C.a,{options:this.state.CourseData,value:this.props.disabled?[]:this.state.selectedValue,onChange:this.onSelect,disabled:this.props.disabled,selectAllLabel:"Select ALL Course List",className:this.props.disabled?"courselist disable":"courselist"})))}}]),a}(c.a.Component),j=function(e){Object(l.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).state={QuizData:[],selectedValue:[{label:"Select Quiz",value:"0",courseId:"0"}]},n.onSelect=n.onSelect.bind(Object(o.a)(n)),n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){}},{key:"componentWillReceiveProps",value:function(e){(e.ProductId&&e.ProductId!=this.props.ProductId||e.StartDate!=this.props.StartDate||e.EndDate!=this.props.EndDate)&&(this.fetchQuizData(e.ProductId,e.StartDate,e.EndDate),this.setState({selectedValue:[{label:"Select Quiz",value:"0",courseId:"0"}]}))}},{key:"fetchQuizData",value:function(e,t,a){Object(d.o)(e,t,a,function(e){var n=e.data.data,r=this.enumerateDaysBetweenDates(t,a),s=n.filter((function(e){return O.a.contains(r,e.date)}));this.setState({QuizData:s})}.bind(this))}},{key:"enumerateDaysBetweenDates",value:function(e,t){var a=[];a.push(e);for(var n=L()(e).startOf("day"),r=L()(t).startOf("day");n.add(1,"days").diff(r)<0;)a.push(n.format("YYYY-MM-DD"));return a.push(t),a}},{key:"onSelect",value:function(e,t){console.log(e);var a=e.filter((function(e){return"Select Quiz"!==e.label}));this.setState({selectedValue:a}),this.props.onSelectQuiz(a),console.log(this.props)}},{key:"render",value:function(){var e=this.props.visible;return console.log("this.props.disabled",this.props.disabled),0==e?null:c.a.createElement("div",null,c.a.createElement(D.a.Group,{controlId:"quiz_dropdown"},c.a.createElement(C.a,{options:this.state.QuizData,value:this.props.disabled?[]:this.state.selectedValue,onChange:this.onSelect,disabled:this.props.disabled,selectAllLabel:"Select ALL Quiz List",className:this.props.disabled?"quizlist disable":"quizlist"})))}}]),a}(c.a.Component),k=a(92),T=(a(187),function(e){Object(l.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).handleStartDateChange=function(e,t){e._isAMomentObject&&(n.props.onStartDate(e.format("YYYY-MM-DD")),n.setState({startdate:e.format("YYYY-MM-DD"),enddate:e.add(30,"days").format("YYYY-MM-DD")},(function(){})))},n.handleEndDateChange=function(e,t){e._isAMomentObject&&(n.props.onEndDate(e.format("YYYY-MM-DD")),n.setState({enddate:e.format("YYYY-MM-DD")},(function(){})))},n.validation=function(e){return e.isBefore(L()())},n.validationEndDate=function(e){return!!e.isBefore(L()(n.state.enddate))&&!e.isBefore(L()(n.state.startdate))},n.handleStartDateChange=n.handleStartDateChange.bind(Object(o.a)(n)),n.handleEndDateChange=n.handleEndDateChange.bind(Object(o.a)(n)),n.state={startdate:L()().subtract(30,"days").format("YYYY-MM-DD"),enddate:L()().format("YYYY-MM-DD")},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){}},{key:"componentWillReceiveProps",value:function(e){}},{key:"getSelectedDateRange",value:function(){return{startdate:this.state.startdate,enddate:this.state.enddate}}},{key:"render",value:function(){var e,t,a=this;return 0==this.props.visible?null:c.a.createElement(c.a.Fragment,null,c.a.createElement(v.a,{md:6},c.a.createElement(D.a.Group,{controlId:"startdate_field"},c.a.createElement(D.a.Label,null,"From Date :"),c.a.createElement(k,(e={value:new Date,dateFormat:"YYYY-MM-DD"},Object(n.a)(e,"value",this.state.startdate),Object(n.a)(e,"isValidDate",this.validation.bind(this)),Object(n.a)(e,"onChange",(function(e){return a.handleStartDateChange(e)})),Object(n.a)(e,"utc",!0),Object(n.a)(e,"timeFormat",!1),Object(n.a)(e,"className","form-group"),e)))),c.a.createElement(v.a,{md:6},c.a.createElement(D.a.Group,{controlId:"enddate_field"},c.a.createElement(D.a.Label,null,"To Date :"),c.a.createElement(k,(t={value:new Date,dateFormat:"YYYY-MM-DD"},Object(n.a)(t,"value",this.state.enddate),Object(n.a)(t,"isValidDate",this.validationEndDate.bind(this)),Object(n.a)(t,"onChange",(function(e){return a.handleEndDateChange(e)})),Object(n.a)(t,"utc",!0),Object(n.a)(t,"timeFormat",!1),Object(n.a)(t,"className","form-group right0"),t)))))}}]),a}(c.a.Component)),z=a(430),x=(a(427),function(e){Object(l.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).handleQuizSelect=function(e){n.setState({QuizSelectList:e})},n.handleCourseSelect=function(e){n.setState({CourseSelect:e})},n.handleStartDate=function(e){n.setState({StartDate:e})},n.handleEndDate=function(e){n.setState({EndDate:e})},n.state={nodes:[],checked:[],expanded:[],ReportType:1,ProductId:null,QuizSelectList:[],ExportQuizData:[],CourseSelect:"",StartDate:L()().subtract(30,"days").format("YYYY-MM-DD"),EndDate:L()().format("YYYY-MM-DD")},n.reporttypechange=n.reporttypechange.bind(Object(o.a)(n)),n.ReportTypeList={config:{root:"ReportTypeList",data:[{Id:1,Display:"Quiz Report"},{Id:2,Display:"Course Report"},{Id:3,Display:"LMS Visit"}]}},n.productchange=n.productchange.bind(Object(o.a)(n)),n.onSummaryClick=n.onSummaryClick.bind(Object(o.a)(n)),n.dateRangeRef=c.a.createRef(),n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=2==Object(p.j)().RoleId?75:Object(p.j)().UserID;Object(d.k)({root:"Hierarchy",ManagerId:e,statename:"Hierarchy-"+e,value:this.props.value,state:!0},function(e){var t=JSON.stringify(e).replace(/UserName/g,"label");t=t.replace(this.props.value,"value"),this.setState({nodes:JSON.parse(t)})}.bind(this))}},{key:"componentWillReceiveProps",value:function(e){console.log(this.props.QuizData),console.log(e.QuizData)}},{key:"onButtonClick",value:function(){this.props.handleSelectManager({SelectedSupervisors:this.state.checked}),this.forceUpdate()}},{key:"onMouseEnter",value:function(e){document.getElementById("floating").style.right=0,document.getElementById("handle").style.right="395px"}},{key:"onMouseOut",value:function(e){setTimeout((function(){document.getElementById("floating").style.right="-400px",document.getElementById("handle").style.right="-15px"}),700)}},{key:"RemoveChecked",value:function(e){var t=this.state.checked,a=t.indexOf(e);a>-1&&t.splice(a,1),this.setState(t)}},{key:"reporttypechange",value:function(e){this.setState({ReportType:e.target.value})}},{key:"productchange",value:function(e,t){console.log("ProductId",e.target.value),this.props.onProductId(e.target.value),this.setState({ProductId:e.target.value},(function(){}))}},{key:"onExportClick",value:function(){if(this.state.checked.length>0)Object(d.k)({root:"GetAgentsUnderManagers",ManagerId:this.state.checked.join()},function(e){if(this.setState({SelectedSupervisors:this.state.checked,SelectedUsers:e}),this.props.handleSelectManager({SelectedSupervisors:this.state.checked,SelectedUsers:e}),1==this.state.ReportType){if(null==this.state.ProductId)return void Object(z.b)("Please select Product",{type:"error"});if(""==this.state.QuizSelectList)return void Object(z.b)("Please select Quiz",{type:"error"});this.props.onExportQuiz(this.state.QuizSelectList)}if(2==this.state.ReportType){if(null==this.state.ProductId)return void Object(z.b)("Please select Product",{type:"error"});if(""==this.state.CourseSelect)return void Object(z.b)("Please select Course",{type:"error"});this.props.onExportCourse(this.state.CourseSelect,this.state.StartDate,this.state.EndDate)}if(3==this.state.ReportType){var t=this.dateRangeRef.current.getSelectedDateRange();this.props.onExportLMS(t.startdate,t.enddate)}}.bind(this));else{if(this.setState({SelectedSupervisors:[],SelectedUsers:[]}),this.props.handleSelectManager({SelectedSupervisors:[],SelectedUsers:[]}),1==this.state.ReportType){if(null==this.state.ProductId)return void Object(z.b)("Please select Product",{type:"error"});if(""==this.state.QuizSelectList)return void Object(z.b)("Please select Quiz",{type:"error"});this.props.onExportQuiz(this.state.QuizSelectList)}if(2==this.state.ReportType){if(null==this.state.ProductId)return void Object(z.b)("Please select Product",{type:"error"});if(""==this.state.CourseSelect)return void Object(z.b)("Please select Course",{type:"error"});this.props.onExportCourse(this.state.CourseSelect,this.state.StartDate,this.state.EndDate)}if(3==this.state.ReportType){var e=this.dateRangeRef.current.getSelectedDateRange();this.props.onExportLMS(e.startdate,e.enddate)}}}},{key:"onSummaryClick",value:function(){if(this.state.checked.length>0)Object(d.k)({root:"GetAgentsUnderManagers",ManagerId:this.state.checked.join()},function(e){if(this.setState({SelectedSupervisors:this.state.checked,SelectedUsers:e}),this.props.handleSelectManager({SelectedSupervisors:this.state.checked,SelectedUsers:e}),1==this.state.ReportType){if(null==this.state.ProductId)return void Object(z.b)("Please select Product",{type:"error"});if(""==this.state.QuizSelectList)return void Object(z.b)("Please select Quiz",{type:"error"});this.props.onSummaryQuiz(this.state.QuizSelectList)}else if(2==this.state.ReportType){if(null==this.state.ProductId)return void Object(z.b)("Please select Product",{type:"error"});if(""==this.state.CourseSelect)return void Object(z.b)("Please select Course",{type:"error"});this.props.onSummaryCourse(this.state.CourseSelect,this.state.StartDate,this.state.EndDate)}else if(3==this.state.ReportType){var t=this.dateRangeRef.current.getSelectedDateRange();this.props.onSummaryLMS(t.startdate,t.enddate)}}.bind(this));else if(this.setState({SelectedSupervisors:[],SelectedUsers:[]}),this.props.handleSelectManager({SelectedSupervisors:[],SelectedUsers:[]}),1==this.state.ReportType){if(null==this.state.ProductId)return void Object(z.b)("Please select Product",{type:"error"});if(""==this.state.QuizSelectList)return void Object(z.b)("Please select Quiz",{type:"error"});this.props.onSummaryQuiz(this.state.QuizSelectList)}else if(2==this.state.ReportType){if(null==this.state.ProductId)return void Object(z.b)("Please select Product",{type:"error"});if(""==this.state.CourseSelect)return void Object(z.b)("Please select Course",{type:"error"});this.props.onSummaryCourse(this.state.CourseSelect,this.state.StartDate,this.state.EndDate)}else if(3==this.state.ReportType){var e=this.dateRangeRef.current.getSelectedDateRange();this.props.onSummaryLMS(e.startdate,e.enddate)}}},{key:"render",value:function(){var e=this,t=this.state,a=t.nodes;t.checked;return c.a.createElement("div",{id:"floating",className:"floating",onMouseLeave:this.onMouseOut},c.a.createElement(y.a,null,c.a.createElement(v.a,{md:"4"},c.a.createElement("div",{id:"handle",className:"handle",onClick:this.onMouseEnter},"Filter")),c.a.createElement(v.a,{md:"4"},c.a.createElement("input",{type:"button",className:"btn btn-primary",onClick:this.onSummaryClick.bind(this),value:"Summary"})),c.a.createElement(v.a,{md:"4"},c.a.createElement("input",{type:"button",className:"btn btn-primary",onClick:this.onExportClick.bind(this),value:"Export"}))),c.a.createElement("br",null),c.a.createElement(y.a,null,c.a.createElement(v.a,{md:"6"},c.a.createElement(D.a.Group,{controlId:"protype_dropdown"},c.a.createElement(D.a.Label,null,"Products :"),c.a.createElement(g.a,{productchange:this.productchange}))),c.a.createElement(v.a,{md:"6"},c.a.createElement(D.a.Group,{controlId:"reporttype_dropdown"},c.a.createElement(D.a.Label,null,"Report Type :"),c.a.createElement(S.a,{firstoption:"Select Report Type",value:this.state.ReportType,items:this.ReportTypeList.config.data,onChange:this.reporttypechange})))),c.a.createElement(y.a,null,c.a.createElement(T,{ref:this.dateRangeRef,onStartDate:this.handleStartDate.bind(this),onEndDate:this.handleEndDate.bind(this)})),c.a.createElement(y.a,null,c.a.createElement(v.a,{md:"6"},c.a.createElement(D.a.Group,{controlId:"course_dropdown"},c.a.createElement(D.a.Label,null,"Course :"),c.a.createElement(I,{onSelectCourse:this.handleCourseSelect.bind(this),disabled:2!=this.state.ReportType,ReportType:this.state.ReportType,ProductId:this.state.ProductId,StartDate:this.state.StartDate,EndDate:this.state.EndDate}))),c.a.createElement(v.a,{md:"6"},c.a.createElement(D.a.Group,{controlId:"quiz_dropdown"},c.a.createElement(D.a.Label,null,"Quiz :"),c.a.createElement("div",{id:"quizmultiselect"},c.a.createElement(j,{onSelectQuiz:this.handleQuizSelect.bind(this),disabled:1!=this.state.ReportType,ReportType:this.state.ReportType,ProductId:this.state.ProductId,StartDate:this.state.StartDate,EndDate:this.state.EndDate}))))),c.a.createElement(y.a,null,c.a.createElement(v.a,null,c.a.createElement(D.a.Group,{controlId:"namagers"},c.a.createElement(D.a.Label,null,"Managers :"),c.a.createElement("div",{className:"managers"},c.a.createElement(b.a,{nodes:a,checked:this.state.checked,expanded:this.state.expanded,checkModel:"all",name:"UserName",showNodeIcon:!1,onCheck:function(t){return e.setState({checked:t})},onExpand:function(t){return e.setState({expanded:t})},showExpandAll:!0}))))))}}]),a}(c.a.Component)),Q=(a(91),a(425),a(428),function(e){Object(l.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).state={show:n.props.show},n}return Object(s.a)(a,[{key:"componentDidUpdate",value:function(){}},{key:"componentWillReceiveProps",value:function(e){this.setState({show:e.show})}},{key:"render",value:function(){return this.state.show?c.a.createElement("div",{className:"PageLoading"},c.a.createElement("span",null,"Loading...")):null}}]),a}(c.a.Component)),P=a(530),N=a(424),Y=a(531),A=a(533),w=a(563),R=a(532),_=a(672),U=function(e){Object(l.a)(a,e);var t=Object(i.a)(a);function a(e){var s,l;return Object(r.a)(this,a),(l=t.call(this,e)).handleQuizSelect=function(e){l.setState({QuizSelectList:e})},l.handleProductId=function(e){l.setState({ProductId:e})},l.handleSummaryQuiz=function(e){l.setState({QuizMultiList:e,showLoading:!0});for(var t=[],a=0;a<e.length;a++)t.push({Id:e[a].value,Display:e[a].label});setTimeout(function(){t&&t.length>0&&(this.LoadQuizData(t[0].Id),this.setState({QuizSelectList:t,DefaultSelectedQuiz:t[0].Id}))}.bind(Object(o.a)(l)),500)},l.handleSummaryCourse=function(e,t,a){l.setState({CourseMultiList:e,showLoading:!0});for(var n=[],r=0;r<e.length;r++)n.push({Id:e[r].value,Display:e[r].label});setTimeout(function(){n&&n.length>0&&(this.LoadCourseData(n[0].Id,t,a),this.setState({CourseSelectList:n,DefaultSelectedCourse:n[0].Id}))}.bind(Object(o.a)(l)),500)},l.handleSummaryLMS=function(e,t){var a=l.enumerateWeeksBetweenDates(e,t);l.setState({DaysList:a,DefaultSelectedDaysList:a[0].Id,StartDate:e,EndDate:t,showLoading:!0}),setTimeout(function(){if(a&&a.length>0){var e=a[0].Id,t=a[0].Id.indexOf("_"),n=e.substr(0,t),r=e.substr(t+1);this.setState({DropDownStartDate:n,DropDownEndDate:r}),this.LoadLMSData(n,r)}}.bind(Object(o.a)(l)),500)},l.handleExportQuiz=function(e){var t=l.state.QuizColumns,a=e,n=a.map((function(e){return t.push({name:e.label,selector:e.value.toString()}),e.value}));l.setState({showLoading:!0});var r={quizId:n.join(","),courseId:a.map((function(e){return e.courseId})).join(","),userId:0==l.state.SelectedUsers.length?null:l.state.SelectedUsers.join(),productId:l.state.ProductId,format:"export"};Object(d.l)(r,function(a){this.setState({ExportQuizList:a.data.data,QuizMultiList:e,QuizColumns:t},function(){this.renderExportQuizData()}.bind(this))}.bind(Object(o.a)(l)))},l.handleExportLMS=function(e,t){var a=l.enumerateWeeksBetweenDates(e,t);l.setState({DaysList:a,DefaultSelectedDaysList:a[0].Id,StartDate:e,EndDate:t,showLoading:!0}),setTimeout(function(){if(a&&a.length>0){var e=a[0].Id,t=a[0].Id.indexOf("_"),n=e.substr(0,t),r=e.substr(t+1);this.setState({DropDownStartDate:n,DropDownEndDate:r}),this.LoadLMSExportData(n,r)}}.bind(Object(o.a)(l)),500)},l.handleExportCourse=function(e,t,a){setTimeout(function(){this.setState({CourseMultiList:e,showLoading:!0}),this.LoadCourseExportData(e,t,a)}.bind(Object(o.a)(l)),500)},l.LoadCourseExportData=function(e,t,a){var n={courseId:e.map((function(e){return e.value})).join(","),userId:l.state.SelectedUsers.join(),productId:l.state.ProductId,startDate:t+" 00:00:00",endDate:a+" 23:59:59",format:"summary"};Object(d.v)(n,function(t){t&&t.data&&t.data.data&&0==t.data.data["total agents"]&&Object(z.b)("No Record Found",{type:"error"}),this.renderExportCourseData(t.data.data,e)}.bind(Object(o.a)(l)))},l.state=(s={root:"MoodleReportData",PageTitle:"LMS Report",showLoading:!1,ExportQuizList:[],QuizSelectList:[],QuizMultiList:[]},Object(n.a)(s,"QuizSelectList",[]),Object(n.a)(s,"CourseMultiList",[]),Object(n.a)(s,"SummaryQuizData",[]),Object(n.a)(s,"SummaryCourseData",[]),Object(n.a)(s,"QuizSummaryData",[]),Object(n.a)(s,"CourseSummaryData",[]),Object(n.a)(s,"AllManagerData",[]),Object(n.a)(s,"ProductId",""),Object(n.a)(s,"DefaultSelectedQuiz",null),Object(n.a)(s,"DefaultSelectedSummary",null),Object(n.a)(s,"SelectedUsers",[]),Object(n.a)(s,"LMSSummaryData",[]),Object(n.a)(s,"StartDate",L()().format("YYYY-MM-DD")),Object(n.a)(s,"EndDate",L()().format("YYYY-MM-DD")),Object(n.a)(s,"DaysList",[]),Object(n.a)(s,"DefaultSelectedDaysList",null),Object(n.a)(s,"DropDownStartDate",L()().format("YYYY-MM-DD")),Object(n.a)(s,"DropDownEndDate",L()().format("YYYY-MM-DD")),Object(n.a)(s,"GrandTotalData",[]),Object(n.a)(s,"GrandTotalColumns",[]),Object(n.a)(s,"QuizColumns",[{name:"EmployeeId",selector:"EmployeeId",searchable:!0},{name:"Employee Name",selector:"UserName",searchable:!0},{name:"TL Name",selector:"TL_Name",searchable:!0},{name:"AM/DM Name",selector:"AM_Name",searchable:!0},{name:"Manager Name",selector:"Manager_Name",searchable:!0},{name:"Team Name",selector:"Team_Name",searchable:!0}]),Object(n.a)(s,"QuizSummaryColumns",[{name:"Team Coaches",selector:"Reportees",searchable:!0,sortable:!0,width:"350px"},{name:"Total Agents",selector:"TotalAgents"},{name:"Didn't Appear",selector:"DontAppear"},{name:"Pass",selector:"Pass"},{name:"Fail",selector:"Fail"},{name:"Team Average % Score",selector:"Average"},{name:"Attendees Average % Score",selector:"AverageScoreAttendes"}]),Object(n.a)(s,"CourseSummaryColumns",[{name:"Team Coaches",selector:"Reportees",searchable:!0,sortable:!0,width:"350px"},{name:"Total Agents",selector:"TotalAgents"},{name:"Complete",selector:"Complete"},{name:"Pending",selector:"Pending"}]),Object(n.a)(s,"LMSSummaryColumns",[]),Object(n.a)(s,"QuizData",[]),Object(n.a)(s,"ExportCourseColumns",[]),Object(n.a)(s,"ExportCourseData",[]),Object(n.a)(s,"ExportLMSColumns",[]),Object(n.a)(s,"ExportLMSData",[]),s),l.LMSSummaryColumns=[{name:"Team Coaches",selector:"Reportees",width:"350px",searchable:!0},{name:"Total Agents",selector:"TotalAgents"}],l.DaysList={config:{data:[{Id:"1",Display:"2july to 8 july"},{Id:"2",Display:"9 july to 15 july"}]}},l}return Object(s.a)(a,[{key:"componentWillMount",value:function(){Object(d.k)({root:"Hierarchy",ManagerId:75,statename:"Hierarchy-75",state:!0},function(e){this.setState({AllManagerData:e})}.bind(this))}},{key:"handleSelectManager",value:function(e){e&&e.SelectedSupervisors&&this.setState({ReportTime:new Date,SelectedSupervisors:e.SelectedSupervisors,SelectedUsers:O.a.pluck(e.SelectedUsers,"EmployeeId")})}},{key:"coursechange",value:function(e,t){var a=e.target.value;this.setState({DefaultSelectedCourse:a,showLoading:!0}),this.LoadCourseData(a)}},{key:"quizchange",value:function(e,t){var a=e.target.value;this.setState({DefaultSelectedQuiz:a,showLoading:!0}),this.LoadQuizData(a)}},{key:"findById",value:function(e,t){var a;for(var n in e){if(e.UserID===t)return e;if("object"===typeof e[n]&&(a=this.findById(e[n],t)))return a}return a}},{key:"BindDefaultExportColumns",value:function(){return[{name:"EmployeeId",selector:"EmployeeId",searchable:!0},{name:"Employee Name",selector:"UserName",searchable:!0},{name:"TL Name",selector:"TL_Name",searchable:!0},{name:"AM/DM Name",selector:"AM_Name",searchable:!0},{name:"Manager Name",selector:"Manager_Name",searchable:!0},{name:"Team Name",selector:"Team_Name",searchable:!0}]}},{key:"BindDefaultExportData",value:function(e){var t=[],a=this;return e?(Object.keys(e).forEach((function(n){try{var r={},s=(r=Array.isArray(e[n])?e[n][0]:e[n]).managerId,o=(r.tlId,r.tlName),l=a.findById(a.state.AllManagerData,s);if(l&&l.ManagerId){var i,u,c=l.ManagerId;if((i=a.findById(a.state.AllManagerData,c))&&i.ManagerId){var d=i.ManagerId;u=a.findById(a.state.AllManagerData,d)}var m={EmployeeId:n.toUpperCase(),UserName:r.userName,TL_Name:o,AM_Name:void 0==i?"":i.UserName,Manager_Name:void 0==u?"":u.UserName,Team_Name:r.userGroupName};t.push(m)}else console.log("ExportData[i]",e[n]),console.log("TLdata",l)}catch(h){console.error(h)}})),t):null}},{key:"LoadQuizData",value:function(e){var t=this.state.QuizMultiList.filter((function(t){return t.value==e}))[0].courseId,a={quizId:e,courseId:t,userId:this.state.SelectedUsers.join(),format:"summary",productId:this.state.ProductId};Object(d.x)(a,function(e){e&&e.data&&e.data.data&&0==e.data.data["total agents"]&&Object(z.b)("No Record Found",{type:"error"}),this.setState({SummaryQuizData:e.data.data}),this.CalcSummaryQuizData()}.bind(this))}},{key:"CalcSummaryQuizData",value:function(){var e=[],t=this.state.SummaryQuizData.data;if(!t)return null;Object.keys(t).forEach((function(a){for(var n=t[a],r=0;r<n.length;r++)try{n[r].managerId;e.push({empid:a,TLId:n[r].tlId,TLUserName:n[r].tlName,pass:"undefined"==typeof n[r].pass?"DontAppear":n[r].pass,percentage:"undefined"==typeof n[r].percentage?0:n[r].percentage})}catch(s){console.error(s)}})),console.log("res",e);var a=[],n=[],r=O.a.groupBy(e,"TLId");Object.keys(r).forEach((function(e){try{var t,n,s,o=O.a.countBy(r[e],(function(e){return"Yes"==e.pass})),l=O.a.countBy(r[e],(function(e){return"No"==e.pass})),i=O.a.countBy(r[e],(function(e){return"DontAppear"==e.pass})),u=i.true?r[e].length-i.true:r[e].length,c=O.a.reduce(r[e],(function(e,t){return e+t.percentage}),0),d={Reportees:e.toUpperCase()+" - "+r[e][0].TLUserName,Pass:null!==(t=o.true)&&void 0!==t?t:0,Fail:null!==(n=l.true)&&void 0!==n?n:0,DontAppear:null!==(s=i.true)&&void 0!==s?s:0,TotalAgents:r[e].length,Average:(c/r[e].length).toFixed(1),AverageScoreAttendes:u?(c/u).toFixed(1):(0).toFixed(1),GrandTotalSumPercentage:c};a.push(d)}catch(m){console.error(m)}}));var s=O.a.reduce(a,(function(e,t){return e+t.TotalAgents}),0),o=O.a.reduce(a,(function(e,t){return e+t.DontAppear}),0),l={Pass:O.a.reduce(a,(function(e,t){return e+t.Pass}),0),Fail:O.a.reduce(a,(function(e,t){return e+t.Fail}),0),DontAppear:o,TotalAgents:s,Average:(O.a.reduce(a,(function(e,t){return e+parseFloat(t.GrandTotalSumPercentage)}),0)/s).toFixed(1),AvgScoreAttended:(O.a.reduce(a,(function(e,t){return e+parseFloat(t.GrandTotalSumPercentage)}),0)/(s-o)).toFixed(1)};n.push(l),this.setState({QuizSummaryData:a,GrandTotalData:n,CourseSummaryData:[],QuizData:[],LMSSummaryData:[],ExportCourseData:[],ExportLMSData:[],showLoading:!1})}},{key:"LoadCourseData",value:function(e,t,a){var n={courseId:e,userId:this.state.SelectedUsers.join(),productId:this.state.ProductId,startDate:t+" 00:00:00",endDate:a+" 23:59:59",format:"summary"};Object(d.v)(n,function(e){e&&e.data&&e.data.data&&0==e.data.data["total agents"]&&Object(z.b)("No Record Found",{type:"error"}),this.setState({SummaryCourseData:e.data.data,showLoading:!0}),this.renderSummaryCourseData()}.bind(this))}},{key:"renderSummaryCourseData",value:function(){var e=[],t=this.state.SummaryCourseData.data;if(!t)return null;Object.keys(t).forEach((function(a){for(var n=t[a],r=0;r<n.length;r++)try{e.push({empid:a,TLId:n[r].tlId,TLUserName:n[r].tlName,attendance:"undefined"==typeof n[r].attendance?"No":n[r].attendance})}catch(s){console.error(s)}}));var a=[],n=[],r=O.a.groupBy(e,"TLId");Object.keys(r).forEach((function(e){try{var t,n,s=O.a.countBy(r[e],(function(e){return"Yes"==e.attendance})),o={Reportees:e.toUpperCase()+" - "+r[e][0].TLUserName,Complete:null!==(t=s.true)&&void 0!==t?t:0,Pending:null!==(n=s.false)&&void 0!==n?n:0,TotalAgents:r[e].length};a.push(o)}catch(l){console.error(l)}}));var s={Complete:O.a.reduce(a,(function(e,t){return e+t.Complete}),0),Pending:O.a.reduce(a,(function(e,t){return e+t.Pending}),0),TotalAgents:O.a.reduce(a,(function(e,t){return e+t.TotalAgents}),0)};n.push(s),this.setState({CourseSummaryData:a,GrandTotalData:n,QuizSummaryData:[],QuizData:[],LMSSummaryData:[],ExportCourseData:[],ExportLMSData:[],showLoading:!1})}},{key:"renderSummaryLMSData",value:function(){var e=[],t=this.state.SummaryLMSData;if(!t)return null;var a=this.enumerateDaysBetweenDates(this.state.DropDownStartDate,this.state.DropDownEndDate);Object.keys(t).forEach((function(a){try{var n=t[a];if(n&&n.managerId){n.managerId;e.push({empid:a,TLId:n.tlId,TLUserName:n.tlName,dates:"undefined"==typeof n.dates?"-":n.dates})}}catch(r){console.error(r)}}));var n=[],r=[],s=O.a.groupBy(e,"TLId"),o=Object.assign([],this.LMSSummaryColumns);a.forEach((function(e){o.push({name:e,selector:e.replace("-","").replace("-","")})})),Object.keys(s).forEach((function(e){var t=s[e],r=(O.a.pluck(t,"dates"),{Reportees:e.toUpperCase()+" - "+s[e][0].TLUserName,TotalAgents:s[e].length});a.forEach((function(e){var a,n=O.a.countBy(t,(function(t){return t.dates.indexOf(e)>-1}));r[e.replace("-","").replace("-","")]=null!==(a=n.true)&&void 0!==a?a:0})),n.push(r)}));var l={TotalAgents:O.a.reduce(n,(function(e,t){return e+t.TotalAgents}),0)};a.forEach((function(e){var t=e.replace("-","").replace("-","");l[t]=O.a.reduce(n,(function(e,a){return e+a[t]}),0)})),r.push(l),this.setState({LMSSummaryColumns:o,LMSSummaryData:n,GrandTotalData:r,GrandTotalColumns:o,CourseSummaryData:[],QuizSummaryData:[],QuizData:[],ExportCourseData:[],ExportLMSData:[],showLoading:!1})}},{key:"enumerateDaysBetweenDates",value:function(e,t){var a=[];a.push(e);for(var n=L()(e).startOf("day"),r=L()(t).startOf("day");n.add(1,"days").diff(r)<0;)a.push(n.format("YYYY-MM-DD"));return a.push(t),a}},{key:"enumerateWeeksBetweenDates",value:function(e,t){for(var a=[],n=L()(e).startOf("day"),r=L()(t).startOf("day");n.add(6,"days").diff(r)<0;){a.push({Id:e+"_"+n.format("YYYY-MM-DD"),Display:e+" to "+n.format("YYYY-MM-DD")});e=n.add(1,"days").format("YYYY-MM-DD")}return a.push({Id:e+"_"+t,Display:e+" to "+t}),a}},{key:"dayslistchange",value:function(e,t){var a=e.target.value,n=a.indexOf("_"),r=a.substr(0,n),s=a.substr(n+1);this.setState({DefaultSelectedDaysList:a,DropDownEndDate:s,DropDownStartDate:r,LMSSummaryData:[],showLoading:!0}),setTimeout(function(){this.LoadLMSData(r,s)}.bind(this),500)}},{key:"LoadLMSData",value:function(e,t){var a={startDate:e+" 00:00:00",userId:this.state.SelectedUsers.join(),endDate:t+" 23:59:59"};Object(d.w)(a,function(e){this.setState({SummaryLMSData:e.data.data}),this.renderSummaryLMSData()}.bind(this))}},{key:"renderExportQuizData",value:function(){var e=[],t=this.state.ExportQuizList,a=this.state.QuizMultiList,n=this;if(!t)return null;Object.keys(t).forEach((function(r){try{var s=t[r][0].managerId,o=n.findById(n.state.AllManagerData,s);if(o&&o.ManagerId){var l,i,u=o.ManagerId;if((l=n.findById(n.state.AllManagerData,u))&&l.ManagerId){var c=l.ManagerId;i=n.findById(n.state.AllManagerData,c)}var d={EmployeeId:r.toUpperCase(),UserName:t[r][0].userName,TL_Name:void 0==o?"":o.UserName,AM_Name:void 0==l?"":l.UserName,Manager_Name:void 0==i?"":i.UserName,Team_Name:t[r][0].userGroupName,Quiz:[]};a.map((function(e){d[e.value.toString()]="-"}));for(var m=t[r],h=0;h<m.length;h++)m[h].quizId&&(d[m[h].quizId]=m[h].percentage);e.push(d)}else console.log("ExportQuizList[i]",t[r][0]),console.log("TLdata",o)}catch(p){console.error(p)}})),this.setState({QuizData:e,CourseSummaryData:[],QuizSummaryData:[],LMSSummaryData:[],ExportCourseData:[],ExportLMSData:[],showLoading:!1})}},{key:"renderExportLMSData",value:function(e){var t=[];if(!e)return null;var a=this.BindDefaultExportData(e),n=this.enumerateDaysBetweenDates(this.state.DropDownStartDate,this.state.DropDownEndDate);a.forEach((function(a){var r=e[a.EmployeeId];void 0==r&&(r=e[a.EmployeeId.toLowerCase()]);var s=r.dates,o=a;n.forEach((function(e){var t=O.a.countBy(s,(function(t){return t.indexOf(e)>-1}));o[e.replace("-","").replace("-","")]=t.true>0?"Yes":"No"})),t.push(o)}));var r=this.BindDefaultExportColumns();n.forEach((function(e){r.push({name:e,selector:e.replace("-","").replace("-","")})})),this.setState({ExportLMSColumns:r,ExportLMSData:t,CourseSummaryData:[],QuizSummaryData:[],LMSSummaryData:[],QuizData:[],ExportCourseData:[],showLoading:!1})}},{key:"ExportLMSdayslistchange",value:function(e,t){var a=e.target.value,n=a.indexOf("_"),r=a.substr(0,n),s=a.substr(n+1);this.setState({DefaultSelectedDaysList:a,DropDownEndDate:s,DropDownStartDate:r,LMSSummaryData:[]}),setTimeout(function(){this.LoadLMSExportData(r,s)}.bind(this),500)}},{key:"LoadLMSExportData",value:function(e,t){var a={startDate:e+" 00:00:00",userId:this.state.SelectedUsers.join(),endDate:t+" 23:59:59"};Object(d.w)(a,function(e){this.renderExportLMSData(e.data.data)}.bind(this))}},{key:"renderExportCourseData",value:function(e,t){var a=[];if(!e)return null;var n=this.BindDefaultExportData(e.data),r=t;n.forEach((function(t){try{var n=e.data[t.EmployeeId];void 0==n&&(n=e.data[t.EmployeeId.toLowerCase()]);var s=t;r.forEach((function(e){var t=e.value;if(t){var a=O.a.countBy(n,(function(e){return e.courseId==t}));s[e.value.toString()]=a.true>0?"Yes":"No"}else s[e.value.toString()]="No"})),a.push(s)}catch(o){}}));var s=this.BindDefaultExportColumns();r.forEach((function(e){s.push({name:e.label,selector:e.value.toString(),searchable:!0})})),this.setState({ExportCourseColumns:s,ExportCourseData:a,CourseSummaryData:[],LMSSummaryData:[],QuizSummaryData:[],QuizData:[],ExportLMSData:[],showLoading:!1})}},{key:"renderQuizSummary",value:function(){return this.state.QuizSummaryData&&this.state.QuizSummaryData.length>0?c.a.createElement(P.a,null,c.a.createElement(N.a,{md:"12"},c.a.createElement(Y.a,null,c.a.createElement(A.a,null,c.a.createElement(P.a,null,c.a.createElement(N.a,{md:9},c.a.createElement(w.a,{tag:"h5"},"Quiz Summary")),c.a.createElement(N.a,{md:3},c.a.createElement(D.a.Group,{controlId:"quiz_dropdown"},c.a.createElement(S.a,{firstoption:"Select Quiz",items:this.state.QuizSelectList,value:this.state.DefaultSelectedQuiz,onChange:this.quizchange.bind(this)}))))),c.a.createElement(R.a,null,this.renderQuizGrandTotalData(),c.a.createElement(f.a,{columns:this.state.QuizSummaryColumns,data:this.state.QuizSummaryData}))))):null}},{key:"renderQuizExport",value:function(){return this.state.QuizData&&this.state.QuizData.length>0?c.a.createElement(P.a,null,c.a.createElement(N.a,{md:"12"},c.a.createElement(Y.a,null,c.a.createElement(A.a,null,c.a.createElement(P.a,null,c.a.createElement(N.a,{md:12},c.a.createElement(w.a,{tag:"h6"},"Quiz Data")))),c.a.createElement(R.a,null,c.a.createElement(f.a,{columns:this.state.QuizColumns,data:this.state.QuizData}))))):null}},{key:"renderLMSSummary",value:function(){return this.state.LMSSummaryData&&this.state.LMSSummaryData.length>0?c.a.createElement(P.a,null,c.a.createElement(N.a,{md:"12"},c.a.createElement(Y.a,null,c.a.createElement(A.a,null,c.a.createElement(P.a,null,c.a.createElement(N.a,{md:9},c.a.createElement(w.a,{tag:"h5"},"LMS Summary")),c.a.createElement(N.a,{md:3},c.a.createElement(D.a.Group,{controlId:"days_dropdown"},c.a.createElement(S.a,{firstoption:"Select Days",items:this.state.DaysList,value:this.state.DefaultSelectedDaysList,onChange:this.dayslistchange.bind(this)}))))),c.a.createElement(R.a,null,this.renderLMSGrandTotalData(),c.a.createElement(f.a,{columns:this.state.LMSSummaryColumns,data:this.state.LMSSummaryData}))))):null}},{key:"renderCourseSummary",value:function(){return this.state.CourseSummaryData&&this.state.CourseSummaryData.length>0?c.a.createElement(P.a,null,c.a.createElement(N.a,{md:"12"},c.a.createElement(Y.a,null,c.a.createElement(A.a,null,c.a.createElement(P.a,null,c.a.createElement(N.a,{md:9},c.a.createElement(w.a,{tag:"h6"},"Course Summary")),c.a.createElement(N.a,{md:3},c.a.createElement(D.a.Group,{controlId:"course_dropdown"},c.a.createElement(S.a,{firstoption:"Select Course",items:this.state.CourseSelectList,value:this.state.DefaultSelectedCourse,onChange:this.coursechange.bind(this)}))))),c.a.createElement(R.a,null,this.renderCourseGrandTotalData(),c.a.createElement(f.a,{columns:this.state.CourseSummaryColumns,data:this.state.CourseSummaryData}))))):null}},{key:"renderCourseExport",value:function(){return this.state.ExportCourseData&&this.state.ExportCourseData.length>0?c.a.createElement(P.a,null,c.a.createElement(N.a,{md:"12"},c.a.createElement(Y.a,null,c.a.createElement(A.a,null,c.a.createElement(P.a,null,c.a.createElement(N.a,{md:12},c.a.createElement(w.a,{tag:"h6"},"Course Export")))),c.a.createElement(R.a,null,c.a.createElement(f.a,{columns:this.state.ExportCourseColumns,data:this.state.ExportCourseData}))))):null}},{key:"renderLMSExport",value:function(){return this.state.ExportLMSData&&this.state.ExportLMSData.length>0?c.a.createElement(P.a,null,c.a.createElement(N.a,{md:"12"},c.a.createElement(Y.a,null,c.a.createElement(A.a,null,c.a.createElement(P.a,null,c.a.createElement(N.a,{md:9},c.a.createElement(w.a,{tag:"h5"},"LMS Export Data")),c.a.createElement(N.a,{md:3},c.a.createElement(D.a.Group,{controlId:"days_dropdown"},c.a.createElement(S.a,{firstoption:"Select Days",items:this.state.DaysList,value:this.state.DefaultSelectedDaysList,onChange:this.ExportLMSdayslistchange.bind(this)}))))),c.a.createElement(R.a,null,c.a.createElement(f.a,{columns:this.state.ExportLMSColumns,data:this.state.ExportLMSData}))))):null}},{key:"renderCourseGrandTotalData",value:function(){var e=[],t=this.state.GrandTotalData;return t&&t.length>0?(t.forEach((function(t){e.push(c.a.createElement("tr",null,c.a.createElement("td",null,"Grand Total"),c.a.createElement("td",null,t.TotalAgents),c.a.createElement("td",null,t.Complete),c.a.createElement("td",null,t.Pending)))})),c.a.createElement(_.a,{responsive:!0},c.a.createElement("thead",{className:"text-primary"},c.a.createElement("tr",null,c.a.createElement("th",null,"Grand Total"),c.a.createElement("th",null,"Total Agents"),c.a.createElement("th",null,"Complete"),c.a.createElement("th",null,"Pending"))),c.a.createElement("tbody",null,e))):null}},{key:"renderQuizGrandTotalData",value:function(){var e=[],t=this.state.GrandTotalData;return t&&t.length>0?(t.forEach((function(t){e.push(c.a.createElement("tr",null,c.a.createElement("td",null,"Grand Total"),c.a.createElement("td",null,t.TotalAgents),c.a.createElement("td",null,t.DontAppear),c.a.createElement("td",null,t.Pass),c.a.createElement("td",null,t.Fail),c.a.createElement("td",null,t.Average),c.a.createElement("td",null,t.AvgScoreAttended)))})),c.a.createElement(_.a,{responsive:!0},c.a.createElement("thead",{className:"text-primary"},c.a.createElement("tr",null,c.a.createElement("th",null,"Grand Total"),c.a.createElement("th",null,"Total Agents"),c.a.createElement("th",null,"Didn't Appear"),c.a.createElement("th",null,"Pass"),c.a.createElement("th",null,"Fail"),c.a.createElement("th",null,"Team Average % Score"),c.a.createElement("th",null,"Attendees Average % Score"))),c.a.createElement("tbody",null,e))):null}},{key:"renderLMSGrandTotalData",value:function(){var e=this.state.GrandTotalData,t=this.state.GrandTotalColumns.filter((function(e){return"Reportees"!==e.selector}));if(e&&e.length>0){var a=t.map((function(e){return c.a.createElement("th",null,e.name)})),n=t.map((function(t){return c.a.createElement("td",null,e[0][t.selector])}));return c.a.createElement(_.a,{responsive:!0},c.a.createElement("thead",{className:"text-primary"},c.a.createElement("tr",null,c.a.createElement("th",null,"GrandTotal"),a)),c.a.createElement("tbody",null,c.a.createElement("tr",null,c.a.createElement("td",null,"GrandTotal"),n)))}return null}},{key:"render",value:function(){this.moreinfolist;var e=this.state,t=(e.items,e.PageTitle,e.MoodleReport,e.showAlert,e.AlertMsg,e.AlertVarient,e.ReportTime,e.MoreInfoData,e.showLoading);console.log("CourseData",this.state.CourseData);return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"content"},c.a.createElement(Q,{show:t}),c.a.createElement(z.a,null),c.a.createElement(x,{onExportQuiz:this.handleExportQuiz.bind(this),onExportLMS:this.handleExportLMS.bind(this),onExportCourse:this.handleExportCourse.bind(this),handleSelectManager:this.handleSelectManager.bind(this),value:/UserID/g,onSummaryQuiz:this.handleSummaryQuiz.bind(this),onSummaryCourse:this.handleSummaryCourse.bind(this),onSummaryLMS:this.handleSummaryLMS.bind(this),onProductId:this.handleProductId.bind(this)}),this.renderQuizSummary(),this.renderCourseSummary(),this.renderLMSSummary(),this.renderQuizExport(),this.renderLMSExport(),this.renderCourseExport()))}}]),a}(c.a.Component);t.default=Object(h.b)((function(e){return{CommonData:e.CommonData}}),{GetCommonData:d.g,GetCommonspData:d.h,GetMySqlData:m.b,GetDataDirect:d.k})(U)},428:function(e,t,a){"use strict";var n=a(39),r=a(40),s=a(42),o=a(41),l=a(0),i=a.n(l),u=a(440),c=function(e){Object(s.a)(a,e);var t=Object(o.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).state={show:r.props.show},r}return Object(r.a)(a,[{key:"componentDidUpdate",value:function(){}},{key:"componentWillReceiveProps",value:function(e){this.setState({show:e.show}),e.show&&setTimeout(function(){this.setState({show:!1})}.bind(this),5e3)}},{key:"render",value:function(){return this.state.show?i.a.createElement(u.a,{variant:this.props.variant},this.props.body):null}}]),a}(i.a.Component);t.a=c},432:function(e,t,a){"use strict";a.d(t,"b",(function(){return u})),a.d(t,"c",(function(){return c})),a.d(t,"d",(function(){return d})),a.d(t,"a",(function(){return m}));var n=a(4),r=a.n(n),s=a(1),o=a(9),l=function(e){return e.dataToSend.state&&e.dataToSend.statename&&localStorage.setItem(e.dataToSend.statename,JSON.stringify(e.data)),{type:o.a.GET_COMMON_SUCCESS,payload:e.data,root:e.dataToSend.root}},i=function(e){return{type:o.a.GET_COMMON_FAIL,payload:e}},u=function(e,t){if(null!=e.data||void 0!=e.data)return function(t,a){t(l({data:e.data,dataToSend:e}))};try{if(e.state&&localStorage.getItem(e.statename)||localStorage.getItem(e.statename))return function(t,a){var n=JSON.parse(localStorage.getItem(e.statename));t(l({data:n,dataToSend:e}))}}catch(a){}return function(a,n){r.a.get(s.a.api.base_url+"/mydb/list/",{params:e}).then((function(n){e.state&&e.statename&&localStorage.setItem(e.statename,JSON.stringify(n.data.data)),t&&t(n),a(l({data:n.data.data[0],dataToSend:e}))})).catch((function(e){a(i(e))}))}},c=function(e,t){return function(a,n){r.a.post(s.a.api.base_url+"/mydb/insert/",{data:e}).then((function(e){var n;t&&t(e),a((n={data:e.data},{type:o.a.INSERT_COMMON_SUCCESS,payload:n.data}))})).catch((function(e){a(function(e){return{type:o.a.INSERT_COMMON_FAIL,payload:e}}(e))}))}},d=function(e,t){return function(a,n){r.a.post(s.a.api.base_url+"/mydb/update/",{data:e}).then((function(e){var n;t&&t(e),a((n={data:e.data},{type:o.a.UPDATE_COMMON_SUCCESS,payload:n.data}))})).catch((function(e){a(function(e){return{type:o.a.UPDATE_COMMON_FAIL,payload:e}}(e))}))}},m=function(e,t){try{if(e.state&&localStorage.getItem(e.statename)||localStorage.getItem(e.statename)){var a=JSON.parse(localStorage.getItem(e.statename));return void t(a)}}catch(n){}r.a.get(s.a.api.base_url+"/mydb/list/",{params:e}).then((function(a){e.state&&e.statename&&localStorage.setItem(e.statename,JSON.stringify(a.data.data)),t(a.data.data)})).catch((function(e){}))}},446:function(e,t,a){"use strict";var n=a(39),r=a(40),s=a(42),o=a(41),l=a(0),i=a.n(l),u=a(420),c=a(30),d=a(432),m=function(e){Object(s.a)(a,e);var t=Object(o.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).state={items:[]},r}return Object(r.a)(a,[{key:"componentDidMount",value:function(){this.state.items&&0===this.state.items.length&&this.CallApi()}},{key:"componentWillReceiveProps",value:function(e){if(!e.CommonData.isError&&e.CommonData[this.props.col.config.root]){var t=JSON.stringify(e.CommonData[this.props.col.config.root]).replace(this.props.col.config.Idfield,"Id");t=t.replace(this.props.col.config.Displayfield,"Display"),this.setState({items:JSON.parse(t)})}}},{key:"componentWillUpdate",value:function(){}},{key:"CallApi",value:function(){this.props.GetMySqlData({limit:10,skip:0,root:this.props.col.config.root,cols:this.props.col.config.cols,con:this.props.col.config.con,data:this.props.col.config.data,statename:this.props.col.config.statename,state:this.props.col.config.state})}},{key:"render",value:function(){var e=this.state.items,t=this.props,a=t.value,n=t.onChange;return e||(e=[]),0==t.visible?null:i.a.createElement("div",null,i.a.createElement(u.a.Control,{as:"select",disabled:this.props.disabled,value:a,name:this.props.col.name,onChange:n},i.a.createElement("option",{key:0,value:0},this.props.firstoption?this.props.firstoption:"Select"),e.map((function(e){return i.a.createElement("option",{key:e.Id,value:e.Id},e.Display)}))))}}]),a}(i.a.Component);t.a=Object(c.b)((function(e){return{CommonData:e.CommonData}}),{GetMySqlData:d.b})(m)},448:function(e,t,a){"use strict";var n=a(39),r=a(40),s=a(42),o=a(41),l=a(0),i=a.n(l),u=a(420),c=(a(30),a(61),function(e){Object(s.a)(a,e);var t=Object(o.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).state={items:[]},r}return Object(r.a)(a,[{key:"componentDidMount",value:function(){}},{key:"componentWillReceiveProps",value:function(e){this.setState({items:e.items})}},{key:"displayoption",value:function(e){return i.a.createElement("option",{key:e.Id,value:e.Id},e.Display)}},{key:"render",value:function(){var e=this,t=this.props,a=t.name,n=t.value,r=t.onChange,s=t.visible,o=t.items;return o||(o=[]),0==s?null:i.a.createElement("div",null,i.a.createElement(u.a.Control,{as:"select",disabled:this.props.disabled,value:n,name:a,onChange:r},!1!==this.props.firstoption&&i.a.createElement("option",{key:0,value:0},this.props.firstoption?this.props.firstoption:"Select"),o.map((function(t){return e.displayoption(t)}))))}}]),a}(i.a.Component));t.a=c},583:function(e,t,a){"use strict";var n=a(39),r=a(40),s=a(42),o=a(41),l=a(0),i=a.n(l),u=a(420),c=(a(30),a(125)),d=function(e){Object(s.a)(a,e);var t=Object(o.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).state={},r.ProductList={config:{root:"Products",cols:["ID AS Id","ProductName AS Display"],con:[{Isactive:1}]}},r}return Object(r.a)(a,[{key:"componentDidMount",value:function(){}},{key:"componentWillReceiveProps",value:function(e){}},{key:"productchange",value:function(e){}},{key:"render",value:function(){return 0==this.props.visible?null:i.a.createElement("div",null,i.a.createElement(u.a.Group,{controlId:"product_dropdown"},i.a.createElement(c.a,{firstoption:"Select Product",col:this.ProductList,onChange:this.props.productchange})))}}]),a}(i.a.Component);t.a=d}}]);
//# sourceMappingURL=40.df126d96.chunk.js.map