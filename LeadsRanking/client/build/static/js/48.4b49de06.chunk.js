(this.webpackJsonpMatrix_Dashboard=this.webpackJsonpMatrix_Dashboard||[]).push([[48],{1332:function(t,e,a){"use strict";a.r(e);var n=a(39),o=a(40),l=a(42),s=a(41),i=a(0),r=a.n(i),c=a(61),u=a(432),d=a(30),p=a(90),m=(a(446),a(125),a(425),a(428),a(431)),f=(a(459),a(51)),h=a.n(f),b=a(430),g=(a(427),a(423)),v=a(530),D=a(424),S=a(531),y=a(533),E=a(563),O=a(532),C=function(t){Object(l.a)(a,t);var e=Object(s.a)(a);function a(t){var o;return Object(n.a)(this,a),(o=e.call(this,t)).state={root:"",PageTitle:"",addClass:"btn btn-primary",UserId:"",selectedFile:null,uploadFile:"",ManagerId:"",DownloadedFile:"",ResponseData:"",UploadStatusColumns:[],StartDate:h()().format("YYYY-MM-01")},o.dateRangeRef=r.a.createRef(),o}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.UserList();var t=this.getType();this.setState({DownloadedFile:"/SampleExcelfiles/"+t+".xlsx"})}},{key:"fnDatatableCol",value:function(t){return Object(p.e)(t)}},{key:"UserList",value:function(){var t=Object(p.j)().UserID;this.setState({ManagerId:t})}},{key:"onFileChange",value:function(t){console.log(t.target.files[0]),this.setState({selectedFile:t.target.files[0]})}},{key:"getType",value:function(){var t=window.location.href,e=t.substring(t.lastIndexOf("/")+1,t.length);return(e=e.split("?"))[0]}},{key:"onFileUpload",value:function(t){if(this.setState({addClass:"btn btn-primary fa fa-spinner"}),t.preventDefault(),null!=this.state.selectedFile){var e=new FormData;console.log(e);var a=this.getType();e.append("myFile",this.state.selectedFile,this.state.selectedFile.name),e.append("type",a),e.append("UserId",this.state.ManagerId),console.log(this.state.selectedFile),Object(c.A)(e,function(t){console.log(t),this.setState({ResponseData:t.data.data}),this.setState({addClass:"btn btn-primary"})}.bind(this))}else Object(b.b)("Please choose Excel File",{type:"error"})}},{key:"fileData",value:function(){return this.state.selectedFile?r.a.createElement("div",null,r.a.createElement("span",null,"File Name: ",this.state.selectedFile.name),r.a.createElement("p",null,"File Type: ",this.state.selectedFile.type)):r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("h4",null,"Choose before Pressing the Upload button"))}},{key:"uploadfilechange",value:function(t,e){this.setState({uploadFile:t.target.value,DownloadedFile:"/SampleExcelfiles/FirstPremPaid.xlsx"})}},{key:"renderDownloadFile",value:function(){if(this.state.DownloadedFile)return r.a.createElement(g.b,{to:this.state.DownloadedFile,target:"_blank",download:!0},"Download Sample Excel File")}},{key:"renderUploadStatus",value:function(){if(this.state.ResponseData&&this.state.ResponseData.length>0){var t=[],e=this.state.ResponseData,a=Object.keys(e[0]);console.log(a);for(var n=0;n<a.length;n++)"status"==a[n]?t.push({label:"Status",name:"status",cell:function(t){return r.a.createElement("div",{className:"Status"},t.status?t.status:"N.A")}}):"ecode"==a[n]?t.push({name:a[n].toString(),label:a[n].toString(),searchable:!0}):t.push({name:a[n].toString(),label:a[n].toString()});var o=this.fnDatatableCol(t);return r.a.createElement(v.a,null,r.a.createElement(D.a,{md:"12"},r.a.createElement(S.a,null,r.a.createElement(y.a,null,r.a.createElement(v.a,null,r.a.createElement(D.a,{md:7},r.a.createElement(E.a,{tag:"h6"},"Upload Data Status")))),r.a.createElement(D.a,{md:7},r.a.createElement(O.a,null,r.a.createElement(m.a,{columns:o,data:this.state.ResponseData}))))))}return null}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"content"},r.a.createElement(b.a,null),r.a.createElement(v.a,null,r.a.createElement(D.a,{md:"12"},r.a.createElement(S.a,null,r.a.createElement(y.a,null,r.a.createElement(v.a,null,r.a.createElement("form",{ref:"form",onSubmit:this.onFileUpload.bind(this),id:"paymentForm"},r.a.createElement("input",{type:"file",onChange:this.onFileChange.bind(this)}),r.a.createElement("button",{type:"submit",className:this.state.addClass},"Upload!")))),r.a.createElement(O.a,null,this.renderDownloadFile(),this.fileData(),this.renderUploadStatus()))))))}}]),a}(r.a.Component);e.default=Object(d.b)((function(t){return{CommonData:t.CommonData}}),{GetMySqlData:u.b,GetCommonspData:c.h})(C)},428:function(t,e,a){"use strict";var n=a(39),o=a(40),l=a(42),s=a(41),i=a(0),r=a.n(i),c=a(440),u=function(t){Object(l.a)(a,t);var e=Object(s.a)(a);function a(t){var o;return Object(n.a)(this,a),(o=e.call(this,t)).state={show:o.props.show},o}return Object(o.a)(a,[{key:"componentDidUpdate",value:function(){}},{key:"componentWillReceiveProps",value:function(t){this.setState({show:t.show}),t.show&&setTimeout(function(){this.setState({show:!1})}.bind(this),5e3)}},{key:"render",value:function(){return this.state.show?r.a.createElement(c.a,{variant:this.props.variant},this.props.body):null}}]),a}(r.a.Component);e.a=u},432:function(t,e,a){"use strict";a.d(e,"b",(function(){return c})),a.d(e,"c",(function(){return u})),a.d(e,"d",(function(){return d})),a.d(e,"a",(function(){return p}));var n=a(4),o=a.n(n),l=a(1),s=a(9),i=function(t){return t.dataToSend.state&&t.dataToSend.statename&&localStorage.setItem(t.dataToSend.statename,JSON.stringify(t.data)),{type:s.a.GET_COMMON_SUCCESS,payload:t.data,root:t.dataToSend.root}},r=function(t){return{type:s.a.GET_COMMON_FAIL,payload:t}},c=function(t,e){if(null!=t.data||void 0!=t.data)return function(e,a){e(i({data:t.data,dataToSend:t}))};try{if(t.state&&localStorage.getItem(t.statename)||localStorage.getItem(t.statename))return function(e,a){var n=JSON.parse(localStorage.getItem(t.statename));e(i({data:n,dataToSend:t}))}}catch(a){}return function(a,n){o.a.get(l.a.api.base_url+"/mydb/list/",{params:t}).then((function(n){t.state&&t.statename&&localStorage.setItem(t.statename,JSON.stringify(n.data.data)),e&&e(n),a(i({data:n.data.data[0],dataToSend:t}))})).catch((function(t){a(r(t))}))}},u=function(t,e){return function(a,n){o.a.post(l.a.api.base_url+"/mydb/insert/",{data:t}).then((function(t){var n;e&&e(t),a((n={data:t.data},{type:s.a.INSERT_COMMON_SUCCESS,payload:n.data}))})).catch((function(t){a(function(t){return{type:s.a.INSERT_COMMON_FAIL,payload:t}}(t))}))}},d=function(t,e){return function(a,n){o.a.post(l.a.api.base_url+"/mydb/update/",{data:t}).then((function(t){var n;e&&e(t),a((n={data:t.data},{type:s.a.UPDATE_COMMON_SUCCESS,payload:n.data}))})).catch((function(t){a(function(t){return{type:s.a.UPDATE_COMMON_FAIL,payload:t}}(t))}))}},p=function(t,e){try{if(t.state&&localStorage.getItem(t.statename)||localStorage.getItem(t.statename)){var a=JSON.parse(localStorage.getItem(t.statename));return void e(a)}}catch(n){}o.a.get(l.a.api.base_url+"/mydb/list/",{params:t}).then((function(a){t.state&&t.statename&&localStorage.setItem(t.statename,JSON.stringify(a.data.data)),e(a.data.data)})).catch((function(t){}))}},446:function(t,e,a){"use strict";var n=a(39),o=a(40),l=a(42),s=a(41),i=a(0),r=a.n(i),c=a(420),u=a(30),d=a(432),p=function(t){Object(l.a)(a,t);var e=Object(s.a)(a);function a(t){var o;return Object(n.a)(this,a),(o=e.call(this,t)).state={items:[]},o}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.state.items&&0===this.state.items.length&&this.CallApi()}},{key:"componentWillReceiveProps",value:function(t){if(!t.CommonData.isError&&t.CommonData[this.props.col.config.root]){var e=JSON.stringify(t.CommonData[this.props.col.config.root]).replace(this.props.col.config.Idfield,"Id");e=e.replace(this.props.col.config.Displayfield,"Display"),this.setState({items:JSON.parse(e)})}}},{key:"componentWillUpdate",value:function(){}},{key:"CallApi",value:function(){this.props.GetMySqlData({limit:10,skip:0,root:this.props.col.config.root,cols:this.props.col.config.cols,con:this.props.col.config.con,data:this.props.col.config.data,statename:this.props.col.config.statename,state:this.props.col.config.state})}},{key:"render",value:function(){var t=this.state.items,e=this.props,a=e.value,n=e.onChange;return t||(t=[]),0==e.visible?null:r.a.createElement("div",null,r.a.createElement(c.a.Control,{as:"select",disabled:this.props.disabled,value:a,name:this.props.col.name,onChange:n},r.a.createElement("option",{key:0,value:0},this.props.firstoption?this.props.firstoption:"Select"),t.map((function(t){return r.a.createElement("option",{key:t.Id,value:t.Id},t.Display)}))))}}]),a}(r.a.Component);e.a=Object(u.b)((function(t){return{CommonData:t.CommonData}}),{GetMySqlData:d.b})(p)},459:function(t,e,a){"use strict";var n=a(123),o=a(39),l=a(40),s=a(121),i=a(42),r=a(41),c=a(0),u=a.n(c),d=a(420),p=a(51),m=a.n(p),f=a(92),h=(a(187),function(t){Object(i.a)(a,t);var e=Object(r.a)(a);function a(t){var n;return Object(o.a)(this,a),(n=e.call(this,t)).handleStartDateChange=function(t,e){t._isAMomentObject&&(n.props.onStartDate(t.format("YYYY-MM-DD")),n.setState({startdate:t.format("YYYY-MM-DD"),enddate:t.add(30,"days").format("YYYY-MM-DD")},(function(){})))},n.handleEndDateChange=function(t,e){t._isAMomentObject&&(n.props.onEndDate(t.format("YYYY-MM-DD")),n.setState({enddate:t.format("YYYY-MM-DD")},(function(){})))},n.validation=function(t){return t.isBefore(m()())},n.validationEndDate=function(t){return!!t.isBefore(m()(n.state.enddate))&&!t.isBefore(m()(n.state.startdate))},n.handleStartDateChange=n.handleStartDateChange.bind(Object(s.a)(n)),n.handleEndDateChange=n.handleEndDateChange.bind(Object(s.a)(n)),n.state={startdate:m()().format("YYYY-MM-DD")},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){}},{key:"componentWillReceiveProps",value:function(t){}},{key:"getSelectedDateRange",value:function(){return{startdate:this.state.startdate,enddate:this.state.enddate}}},{key:"render",value:function(){var t,e=this;return 0==this.props.visible?null:u.a.createElement(u.a.Fragment,null,u.a.createElement(d.a.Group,{controlId:"startdate_field"},u.a.createElement(f,(t={value:new a,dateFormat:"YYYY-MM-DD"},Object(n.a)(t,"value",this.state.startdate),Object(n.a)(t,"isValidDate",this.validation.bind(this)),Object(n.a)(t,"onChange",(function(t){return e.handleStartDateChange(t)})),Object(n.a)(t,"utc",!0),Object(n.a)(t,"timeFormat",!1),Object(n.a)(t,"className","form-group"),t))))}}]),a}(u.a.Component));e.a=h}}]);
//# sourceMappingURL=48.4b49de06.chunk.js.map