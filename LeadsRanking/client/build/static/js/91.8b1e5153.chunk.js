(this.webpackJsonpMatrix_Dashboard=this.webpackJsonpMatrix_Dashboard||[]).push([[91,126],{1295:function(e,t,a){"use strict";a.r(t);var n=a(123),r=a(39),o=a(40),l=a(121),i=a(42),c=a(41),s=a(0),u=a.n(s),d=a(61),h=a(30),p=(a(90),a(431)),f=a(125),m=(a(441),a(91),a(51)),y=a.n(m),v=(a(425),a(428)),g=a(430),C=(a(427),a(92)),O=(a(187),a(686)),b=a(53),T=a(530),k=a(424),E=a(531),D=a(533),A=a(563),S=a(532),I=a(420),B=a(1262),j=function(e){Object(i.a)(a,e);var t=Object(c.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).handleStartDateChange=function(e,t){e._isAMomentObject&&n.setState({startdate:e.format("YYYY-MM-DD")},(function(){}))},n.handleEndDateChange=function(e,t){e._isAMomentObject&&n.setState({enddate:e.format("YYYY-MM-DD")},(function(){}))},n.validation=function(e){return!e.isBefore(y()(n.state.maxdate))},n.validationEndDate=function(e){return!e.isBefore(y()(n.state.startdate))},n.state={PageTitle:"IVR Activity Chart",IVRActivityChart:[],ProductId:117,startdate:y()().subtract(1,"days").format("YYYY-MM-DD"),enddate:y()().subtract(1,"days").format("YYYY-MM-DD"),maxdate:y()().subtract(20,"days").format("YYYY-MM-DD"),ReportTime:null,SelectedSupervisors:[],ChartData:[],charttype:"ColumnChart"},n.productchange=n.productchange.bind(Object(l.a)(n)),n.chartchange=n.chartchange.bind(Object(l.a)(n)),n.handleShow=n.handleShow.bind(Object(l.a)(n)),n.columnlist=[{name:"utcallid",selector:"utcallid"},{name:"calltime",selector:"calltime"},{name:"ProductName",selector:"ProductName"},{name:"leadid",selector:"leadid"},{name:"isAlready WhatsAppOptIn",selector:"isAlreadyWhatsAppOptIn"},{name:"isWhatsApp Opted",selector:"isWhatsAppOpted"},{name:"OpenTicket Exist",selector:"OpenTicketExist"},{name:"Ticket TatBusted",selector:"TicketTatBusted"},{name:"ticketStatus CustInput",selector:"ticketStatusCustInput"},{name:"Booking > 30Days",selector:"BookingGreaterThen30Days"},{name:"isPolicyIssued",selector:"isPolicyIssued"},{name:"ivrOption",selector:"ivrOption"},{name:"softCopyOption",selector:"softCopyOption"},{name:"isSatisify With IvrOption",selector:"isSatisifyWithIvrOption"},{name:"playnstp",selector:"playnstp"},{name:"playnstpid",selector:"playnstpid"},{name:"playnstpOption",selector:"playnstpOption"},{name:"AssignedAgent",selector:"AssignedAgent"},{name:"Assigned Agent CallStatus",selector:"AssignedAgentCallStatus"},{name:"newcallid",selector:"newcallid"},{name:"language",selector:"language"},{name:"QName",selector:"QName"},{name:"Qentertime",selector:"Qentertime"},{name:"answertime",selector:"answertime"},{name:"hanguptime",selector:"hanguptime"},{name:"GroupCallStatus",selector:"GroupCallStatus"},{name:"callendreason",selector:"callendreason"},{name:"BookingNo",selector:"BookingNo"},{name:"PolicyNo",selector:"PolicyNo"},{name:"SupplierName",selector:"SupplierName"},{name:"policyType",selector:"policyType"},{name:"booking CreatedDate",selector:"bookingCreatedDate"},{name:"booking StampingDate",selector:"bookingStampingDate"},{name:"Registration Number",selector:"registrationNumber"},{name:"isWhatsApp OptIn",selector:"isWhatsAppOptIn"},{name:"isStp",selector:"isStp"},{name:"isSoftCopy Available",selector:"isSoftCopyAvailable"}],n.ProductList={config:{root:"Products",cols:["id AS Id","ProductName AS Display"],con:[{ISActive:!0}]}},n.chartList={config:{root:"chartList",data:[{Id:"BarChart",Display:"BarChart"},{Id:"ColumnChart",Display:"ColumnChart"},{Id:"AreaChart",Display:"AreaChart"},{Id:"LineChart",Display:"LineChart"},{Id:"Bar",Display:"Bar"},{Id:"PieChart",Display:"PieChart"}]}},n}return Object(o.a)(a,[{key:"componentWillMount",value:function(){setTimeout(function(){this.fetchCallBackData()}.bind(this),500)}},{key:"componentWillReceiveProps",value:function(e){e.CommonData.isError||(this.setState({IVRActivityChart:e.CommonData.IVRActivityReport}),this.BindChartData(e.CommonData.IVRActivityReport))}},{key:"handleShow",value:function(e){this.setState({ReportTime:new Date,SelectedSupervisors:e.SelectedSupervisors}),setTimeout(function(){this.fetchCallBackData()}.bind(this),500)}},{key:"fetchCallBackData",value:function(){this.state.SelectedSupervisors;this.props.GetCommonData({root:"IVRActivityReport",ProductId:this.state.ProductId,startdate:this.state.startdate,enddate:this.state.enddate})}},{key:"productchange",value:function(e,t){this.setState({ProductId:e.target.value},(function(){this.fetchCallBackData()}))}},{key:"chartchange",value:function(e,t){this.setState({charttype:e.target.value})}},{key:"BindChartData",value:function(e){if(e){var t=[],a=[],n=[],r=[],o=b.a.groupBy(e,"ProductName");Object.keys(o).forEach((function(e){t.push([e,"Total",{role:"style"},{role:"annotation"}]),a.push([e,"Total",{role:"style"},{role:"annotation"}]),n.push([e,"Total",{role:"style"},{role:"annotation"}]),r.push([e,"Total",{role:"style"},{role:"annotation"}]);var l=b.a.countBy(o[e],(function(e){return"yes"==e.OpenTicketExist}));r.push(["Open Ticket",l.true,"#3f51b5",l.true]);var i=b.a.countBy(o[e],(function(e){return"yes"==e.OpenTicketExist&&"yes"==e.TicketTatBusted}));r.push(["Tat Busted",i.true,"#fb8c00",i.true]);var c=b.a.countBy(o[e],(function(e){return"yes"==e.OpenTicketExist&&"no"==e.TicketTatBusted}));r.push(["WithInTAT",c.true,"#757575",c.true]);var s=b.a.countBy(o[e],(function(e){return"yes"==e.OpenTicketExist&&"no"==e.TicketTatBusted&&"toagent"==e.ticketStatusCustInput}));r.push(["toagent",s.true,"#ffeb3b",s.true]),t.push(["Total Calls",o[e].length,"#3f51b5",o[e].length]);var u=b.a.countBy(o[e],(function(e){return""!=e.QName}));t.push(["Transfer To Agent",u.true,"#fb8c00",u.true]),a.push(["Transfer To Agent",u.true,"#3f51b5",u.true]);var d=b.a.countBy(o[e],(function(e){return""==e.QName}));t.push(["Auto",d.true,"#757575",d.true]);var h=b.a.countBy(o[e],(function(e){return""!=e.QName&&"ANSWER"==e.AssignedAgentCallStatus}));a.push(["Answered",h.true,"#fb8c00",h.true]);var p=b.a.countBy(o[e],(function(e){return""!=e.QName&&"ABANDON"==e.AssignedAgentCallStatus}));a.push(["ABANDON",p.true,"#ffeb3b",p.true]);var f=b.a.groupBy(o[e],"ivrOption");Object.keys(f).forEach((function(e){"noinput"==e||""==e||"null"==e||null==e||n.push([e,f[e].length,"#ffeb3b",f[e].length])}))})),this.setState({ChartData:t,TransferToAgent:a,FinalData:n,TicketData:r})}}},{key:"CreateChart",value:function(e,t){if(e&&e.length>0)return u.a.createElement(O.a,{chartType:this.state.charttype,data:e,loader:u.a.createElement("div",null,"Loading Chart"),width:"100%",height:"200px",options:{title:t,is3D:!0,isStacked:!0,chartArea:{width:"100%"},hAxis:{title:e[0][0],minValue:0},vAxis:{title:"Total",minValue:0},bar:{groupWidth:"50%"},legend:{position:"none"},animation:{startup:!0,easing:"linear",duration:1e3}},legendToggle:!0})}},{key:"render",value:function(){var e,t,a=this,r=this.columnlist,o=this.state,l=(o.items,o.PageTitle),i=o.IVRActivityChart,c=o.showAlert,s=o.AlertMsg,d=o.AlertVarient;o.ReportTime;console.log(this.state);var h=this.CreateChart(this.state.ChartData,"Calls: Auto Answered"),m=this.CreateChart(this.state.TransferToAgent,"Abandon Report"),y=this.CreateChart(this.state.FinalData,"IVR Options Report"),O=this.CreateChart(this.state.TicketData,"Ticket Report");return u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:"content"},u.a.createElement(v.a,{show:c,variant:d,body:s}),u.a.createElement(g.a,null),u.a.createElement(T.a,null,u.a.createElement(k.a,{md:"12"},u.a.createElement(E.a,null,u.a.createElement(D.a,null,u.a.createElement(T.a,null,u.a.createElement(k.a,{md:3},u.a.createElement(A.a,{tag:"h4"},l)),u.a.createElement(k.a,{md:2},u.a.createElement(f.a,{value:this.state.charttype,col:this.chartList,onChange:this.chartchange})),u.a.createElement(k.a,{md:2},u.a.createElement(I.a.Control,{as:"select",value:this.state.ProductId,onChange:this.productchange},u.a.createElement("option",{value:"117"},"NewCar"),u.a.createElement("option",{value:"114"},"Twowheeler"))),u.a.createElement(k.a,{md:2},u.a.createElement(C,(e={value:new Date,dateFormat:"YYYY-MM-DD"},Object(n.a)(e,"value",this.state.startdate),Object(n.a)(e,"isValidDate",this.validation),Object(n.a)(e,"onChange",(function(e){return a.handleStartDateChange(e)})),Object(n.a)(e,"utc",!0),Object(n.a)(e,"timeFormat",!1),e))),u.a.createElement(k.a,{md:2},u.a.createElement(C,(t={value:new Date,dateFormat:"YYYY-MM-DD"},Object(n.a)(t,"value",this.state.enddate),Object(n.a)(t,"isValidDate",this.validationEndDate),Object(n.a)(t,"onChange",(function(e){return a.handleEndDateChange(e)})),Object(n.a)(t,"utc",!0),Object(n.a)(t,"timeFormat",!1),t))),u.a.createElement(k.a,{md:1},u.a.createElement(B.a,{variant:"primary",onClick:function(){return a.fetchCallBackData()}},"Fetch")))),u.a.createElement(S.a,null,u.a.createElement(T.a,null,u.a.createElement(k.a,{md:"3"},h),u.a.createElement(k.a,{md:"3"},m),u.a.createElement(k.a,{md:"3"},y),u.a.createElement(k.a,{md:"3"},O)),u.a.createElement(p.a,{columns:r,data:i&&i.length>0?i:[]})))))))}}]),a}(u.a.Component);t.default=Object(h.b)((function(e){return{CommonData:e.CommonData}}),{GetCommonData:d.g,GetCommonspData:d.h})(j)},425:function(e,t,a){var n,r,o;r=[t,a(6),a(0)],void 0===(o="function"===typeof(n=function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){return"function"===typeof e.children?a.default.createElement(a.default.Fragment,null,e.children()):a.default.createElement(a.default.Fragment,null,e.children||null)}function o(e){return!!("function"===typeof e?e():e)}function l(e){return r(e)}function i(e){return r(e)}function c(e){var t=e.condition,n=e.children;if(null==n)return null;var r=o(t);return a.default.createElement(a.default.Fragment,null,[].concat(n).find((function(e){return e.type!==a.default.createElement(i,null).type^!r}))||null)}Object.defineProperty(e,"__esModule",{value:!0}),e.Then=l,e.Else=i,e.If=c,e.Unless=u,e.When=d,e.Case=h,e.Default=p,e.Switch=f,e.default=void 0,t=n(t),a=n(a),l.propTypes=i.propTypes={children:t.default.oneOfType([t.default.func,t.default.node])};var s=t.default.oneOfType([t.default.instanceOf(l),t.default.instanceOf(i),t.default.node]);function u(e){var t=e.condition,a=e.children;return!o(t)&&a?r({condition:t,children:a}):null}function d(e){var t=e.condition,a=e.children;return o(t)&&a?r({condition:t,children:a}):null}function h(e){return r(e)}function p(e){return r(e)}function f(e){var t,n,r=e.children;return a.default.Children.forEach(r,(function(e){a.default.isValidElement(e)&&(t||e.type!==h?n||e.type!==p||(n=e):o(e.props.condition)&&(t=e))})),t||n||null}c.propTypes={condition:t.default.oneOfType([t.default.func,t.default.bool]).isRequired,children:t.default.oneOfType([t.default.arrayOf(s),s])},u.propTypes={condition:t.default.oneOfType([t.default.func,t.default.bool]).isRequired,children:t.default.oneOfType([t.default.func,t.default.node])},u.defaultProps={children:null},d.propTypes={condition:t.default.oneOfType([t.default.func,t.default.bool]).isRequired,children:t.default.oneOfType([t.default.func,t.default.node])},d.defaultProps={children:null},h.propTypes={condition:t.default.oneOfType([t.default.func,t.default.bool]).isRequired,children:t.default.oneOfType([t.default.func,t.default.node])},h.defaultProps={children:null},p.propTypes={children:t.default.oneOfType([t.default.func,t.default.node])},p.defaultProps={children:null};var m=t.default.oneOfType([t.default.instanceOf(h),t.default.instanceOf(p),t.default.node]);f.propTypes={children:t.default.oneOfType([t.default.arrayOf(m),m])},f.defaultProps={children:null},c.Then=l,c.Else=i,c.When=d,c.Unless=u,c.Switch=f,c.Case=h,c.Default=p;var y=c;e.default=y})?n.apply(t,r):n)||(e.exports=o)},428:function(e,t,a){"use strict";var n=a(39),r=a(40),o=a(42),l=a(41),i=a(0),c=a.n(i),s=a(440),u=function(e){Object(o.a)(a,e);var t=Object(l.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).state={show:r.props.show},r}return Object(r.a)(a,[{key:"componentDidUpdate",value:function(){}},{key:"componentWillReceiveProps",value:function(e){this.setState({show:e.show}),e.show&&setTimeout(function(){this.setState({show:!1})}.bind(this),5e3)}},{key:"render",value:function(){return this.state.show?c.a.createElement(s.a,{variant:this.props.variant},this.props.body):null}}]),a}(c.a.Component);t.a=u},441:function(e,t,a){"use strict";var n=a(39),r=a(40),o=a(42),l=a(41),i=a(0),c=a.n(i),s=a(61),u=a(90),d=a(1289),h=a(185),p=(a(452),a(453)),f=a.n(p),m=function(e){Object(o.a)(a,e);var t=Object(l.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).state={nodes:[],checked:[],expanded:[]},r}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=2==Object(u.j)().RoleId?75:Object(u.j)().UserID;Object(s.k)({root:"Hierarchy",ManagerId:e,statename:"Hierarchy-"+e,value:this.props.value,state:!0},function(e){var t=JSON.stringify(e).replace(/UserName/g,"label");t=t.replace(this.props.value,"value"),this.setState({nodes:JSON.parse(t)})}.bind(this))}},{key:"componentWillReceiveProps",value:function(e){}},{key:"onButtonClick",value:function(){this.props.handleShow({SelectedSupervisors:this.state.checked}),this.forceUpdate()}},{key:"onMouseEnter",value:function(e){document.getElementById("floating").style.right=0,document.getElementById("handle").style.right="395px"}},{key:"onMouseOut",value:function(e){setTimeout((function(){document.getElementById("floating").style.right="-400px",document.getElementById("handle").style.right="-15px"}),700)}},{key:"RemoveChecked",value:function(e){var t=this.state.checked,a=t.indexOf(e);a>-1&&t.splice(a,1),this.setState(t)}},{key:"onClick",value:function(){}},{key:"render",value:function(){var e=this,t=this.state,a=t.nodes;t.checked;return 0==a.length?null:c.a.createElement("div",{id:"floating",className:"floating",onMouseLeave:this.onMouseOut},c.a.createElement(d.a,null,c.a.createElement(h.a,{md:"8"},c.a.createElement("div",{id:"handle",className:"handle",onClick:this.onMouseEnter},"Filter")),c.a.createElement(h.a,{md:"4"},c.a.createElement("input",{type:"button",className:"btn btn-primary",onClick:this.onButtonClick.bind(this),value:"Show"}))),c.a.createElement(d.a,null,c.a.createElement(h.a,null,c.a.createElement("div",{className:"managers"},c.a.createElement(f.a,{nodes:a,checked:this.state.checked,expanded:this.state.expanded,checkModel:"all",name:"UserName",showNodeIcon:!1,onCheck:function(t){return e.setState({checked:t})},onExpand:function(t){return e.setState({expanded:t})},showExpandAll:!0})))))}}]),a}(c.a.Component);t.a=m}}]);
//# sourceMappingURL=91.8b1e5153.chunk.js.map