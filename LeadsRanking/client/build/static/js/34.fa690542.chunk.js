(this.webpackJsonpMatrix_Dashboard=this.webpackJsonpMatrix_Dashboard||[]).push([[34,126],{425:function(e,t,n){var a,o,l;o=[t,n(6),n(0)],void 0===(l="function"===typeof(a=function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e){return"function"===typeof e.children?n.default.createElement(n.default.Fragment,null,e.children()):n.default.createElement(n.default.Fragment,null,e.children||null)}function l(e){return!!("function"===typeof e?e():e)}function r(e){return o(e)}function i(e){return o(e)}function s(e){var t=e.condition,a=e.children;if(null==a)return null;var o=l(t);return n.default.createElement(n.default.Fragment,null,[].concat(a).find((function(e){return e.type!==n.default.createElement(i,null).type^!o}))||null)}Object.defineProperty(e,"__esModule",{value:!0}),e.Then=r,e.Else=i,e.If=s,e.Unless=u,e.When=d,e.Case=f,e.Default=m,e.Switch=h,e.default=void 0,t=a(t),n=a(n),r.propTypes=i.propTypes={children:t.default.oneOfType([t.default.func,t.default.node])};var c=t.default.oneOfType([t.default.instanceOf(r),t.default.instanceOf(i),t.default.node]);function u(e){var t=e.condition,n=e.children;return!l(t)&&n?o({condition:t,children:n}):null}function d(e){var t=e.condition,n=e.children;return l(t)&&n?o({condition:t,children:n}):null}function f(e){return o(e)}function m(e){return o(e)}function h(e){var t,a,o=e.children;return n.default.Children.forEach(o,(function(e){n.default.isValidElement(e)&&(t||e.type!==f?a||e.type!==m||(a=e):l(e.props.condition)&&(t=e))})),t||a||null}s.propTypes={condition:t.default.oneOfType([t.default.func,t.default.bool]).isRequired,children:t.default.oneOfType([t.default.arrayOf(c),c])},u.propTypes={condition:t.default.oneOfType([t.default.func,t.default.bool]).isRequired,children:t.default.oneOfType([t.default.func,t.default.node])},u.defaultProps={children:null},d.propTypes={condition:t.default.oneOfType([t.default.func,t.default.bool]).isRequired,children:t.default.oneOfType([t.default.func,t.default.node])},d.defaultProps={children:null},f.propTypes={condition:t.default.oneOfType([t.default.func,t.default.bool]).isRequired,children:t.default.oneOfType([t.default.func,t.default.node])},f.defaultProps={children:null},m.propTypes={children:t.default.oneOfType([t.default.func,t.default.node])},m.defaultProps={children:null};var p=t.default.oneOfType([t.default.instanceOf(f),t.default.instanceOf(m),t.default.node]);h.propTypes={children:t.default.oneOfType([t.default.arrayOf(p),p])},h.defaultProps={children:null},s.Then=r,s.Else=i,s.When=d,s.Unless=u,s.Switch=h,s.Case=f,s.Default=m;var v=s;e.default=v})?a.apply(t,o):a)||(e.exports=l)},427:function(e,t,n){},442:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(126);function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],a=!0,o=!1,l=void 0;try{for(var r,i=e[Symbol.iterator]();!(a=(r=i.next()).done)&&(n.push(r.value),!t||n.length!==t);a=!0);}catch(s){o=!0,l=s}finally{try{a||null==i.return||i.return()}finally{if(o)throw l}}return n}}(e,t)||Object(a.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},467:function(e,t,n){"use strict";var a=n(0),o=n.n(a);t.a=function(){return o.a.createElement("i",{className:"fa fa-spinner fa-spin"})}},514:function(e,t,n){"use strict";var a=n(39),o=n(40),l=n(42),r=n(41),i=n(0),s=n.n(i),c=n(1336),u=n(1262),d=n(467),f=function(e){Object(l.a)(n,e);var t=Object(r.a)(n);function n(e){var o;return Object(a.a)(this,n),(o=t.call(this,e)).state={show:o.props.show,title:o.props.title,message:o.props.message,isLoading:!1},o}return Object(o.a)(n,[{key:"handleClose",value:function(){this.props.onCancel()}},{key:"handleConfirm",value:function(e){this.setState({isLoading:!0}),this.props.onConfirm()}},{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement(c.a,{show:this.state.show,onHide:function(){return e.handleClose()}},s.a.createElement(c.a.Header,{closeButton:!0},s.a.createElement(c.a.Title,null,this.state.title)),s.a.createElement(c.a.Body,null,this.state.message),s.a.createElement(c.a.Footer,null,s.a.createElement(u.a,{variant:"secondary",onClick:function(){return e.handleClose()}},"No"),s.a.createElement(u.a,{variant:"primary",onClick:function(){return e.handleConfirm()},disabled:this.state.isLoading},"Yes"),this.state.isLoading&&s.a.createElement(d.a,null))))}}]),n}(s.a.Component);t.a=f},515:function(e,t,n){var a=n(68),o=n(67),l=n(46);e.exports=function(e,t,n){var r=-1,i=(t=a(t,e)).length;for(i||(i=1,e=void 0);++r<i;){var s=null==e?void 0:e[l(t[r])];void 0===s&&(r=i,s=n),e=o(s)?s.call(e):s}return e}},716:function(e,t,n){"use strict";n.r(t);var a=n(442),o=n(39),l=n(40),r=n(121),i=n(42),s=n(41),c=n(0),u=n.n(c),d=n(1336),f=n(61),m=n(124),h=n(30),p=n(431),v=n(90),y=n(530),b=n(424),g=n(531),E=n(533),I=n(563),O=n(532),C=(n(425),n(430)),D=(n(427),n(514)),T=n(51),F=n.n(T),P=n(91),S=n.n(P),M=(n(515),function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(e){var a;Object(o.a)(this,n),(a=t.call(this,e)).state={isLoaded:!1,showModal:!1,items:[],activePage:1,root:"ProcessIncentiveFile",PageTitle:"ProcessIncentiveFile",FormTitle:"",formvalue:{},event:"",ModalValueChanged:!1,ResetTokenData:"",ConfirmationOpen:!1,processedFileModal:!1,ProcessInfoData:[],confirm:"no",IncentiveFileData:[]},a.handleClose=a.handleClose.bind(Object(r.a)(a)),a.selectedrow={UserID:0,UserName:"",EmployeeId:""};var l=function(e){var t=e.v;return u.a.createElement("span",{title:t},t?t.substring(0,25):"",t&&t.length>25?"...":"")};return a.columnlist=[{name:"Id",label:"Id",type:"hidden",hide:!0,sortable:!1,searchable:!1},{name:"FileName",label:"FileName",type:"string",sortable:!0,searchable:!0,cell:function(e){return u.a.createElement(l,{v:e.FileName})}},{label:"IncentiveMonth",name:"IncentiveMonth",cell:function(e){return u.a.createElement("div",{className:"calldate"},e.IncentiveMonth?u.a.createElement(S.a,{format:"D MMM YYYY",utc:!0},e.IncentiveMonth):"N.A")},sortable:!0,width:"150px"},{name:"UserName",label:"UserName",type:"string",sortable:!0,cell:function(e){return u.a.createElement(l,{v:e.UserName})}},{name:"TypeName",label:"TypeName",type:"string",sortable:!0,cell:function(e){return u.a.createElement(l,{v:e.TypeName})}},{label:"Process File",name:"StatusId",cell:function(e){return u.a.createElement("div",{className:"moreinfo"},1==e.StatusId?u.a.createElement("button",{id:"processfile",className:"btn btn-primary btn-sm",onClick:function(t){return a.showConfirmationModal(t,e)}},"Start Processing"):2==e.StatusId?"In Process":"Processed")},width:"180px"}],a}return Object(l.a)(n,[{key:"fnBindStore",value:function(e,t){var n;"dropdown"==e.type&&(t.CommonData[this.state.root]&&t.CommonData[e.config.root]&&(n=Object(v.l)(t.CommonData[this.state.root],t.CommonData[e.config.root],e.name),this.setState({items:n})))}},{key:"componentDidMount",value:function(){var e=this;this.columnlist.map((function(t){return Object(v.c)(t,e.props)}));var t=Object(v.j)().UserID;console.log("managerid",t,this.props,this.props.StartDate),this.GetIncentiveFiles()}},{key:"componentDidUpdate",value:function(e){e.ProductId===this.props.ProductId&&e.TypeId===this.props.TypeId&&e.IncentiveMonth===this.props.IncentiveMonth&&e.isUpload===this.props.isUpload||this.GetIncentiveFiles()}},{key:"GetIncentiveFiles",value:function(){this.props.GetCommonspData({root:"GetIncentiveFiles",c:"L",params:[{ProductId:this.props.ProductId,TypeId:this.props.TypeId,IncentiveMonth:F()(this.props.IncentiveMonth).format("YYYY-MM-DD")}]},function(e){e.data&&e.data.data[0]&&(console.log(e.data.data[0]),this.setState({IncentiveFileData:e.data.data[0]}))}.bind(this))}},{key:"hideConfirmationModal",value:function(){(this.state.ProcessInfoData&&this.state.ProcessInfoData.length>0&&"yes"==this.state.confirm||"no"==this.state.confirm)&&this.setState({ConfirmationOpen:!1,selectedRow:null})}},{key:"showConfirmationModal",value:function(e,t){console.log("rowwww",t),this.setState({ConfirmationOpen:!0,selectedRow:t})}},{key:"handleConfirmOk",value:function(e){this.setState({confirm:"yes"}),this.processFile(e,this.state.selectedRow)}},{key:"handleProcessedFilePopup",value:function(){this.setState({processedFileModal:!1,ConfirmationOpen:!1}),this.GetIncentiveFiles()}},{key:"processFile",value:function(e,t){Object(f.J)(t,function(e){console.log(e),e.data&&e.data.data&&e.data.data.length>0?this.setState({ProcessInfoData:e.data.data,processedFileModal:!0,confirm:"no"}):(Object(C.b)("Some error occured",{type:"error"}),this.setState({processedFileModal:!1,ConfirmationOpen:!1}),this.GetIncentiveFiles())}.bind(this))}},{key:"componentWillReceiveProps",value:function(e){var t=this;e.CommonData.isError||(this.setState({items:e.CommonData[this.state.root]}),this.columnlist.map((function(n){return t.fnBindStore(n,e)})))}},{key:"fnDatatableCol",value:function(){return Object(v.e)(this.columnlist)}},{key:"handleClose",value:function(){this.setState({showModal:!1})}},{key:"fnCleanData",value:function(e,t){e=Object(v.d)(this.columnlist,e,t),this.setState({formvalue:e})}},{key:"renderModalProcessFile",value:function(){if(this.state.ProcessInfoData&&this.state.ProcessInfoData.length>0){var e=[],t=this.state.ProcessInfoData;Object.entries(t[0]).map((function(t){var n=Object(a.a)(t,2),o=n[0];n[1];"status"==o?e.push({label:"Status",name:"status",cell:function(e){return u.a.createElement("div",{className:"Status"},e.status?e.status:"N.A")}}):"message"==o?e.push({label:"message",name:"message",cell:function(e){return u.a.createElement("div",{className:"Status"},e.message?e.message:"N.A")},searchable:!0}):"FirstPremPaid"==o||"FLC"==o||"IsSI"==o||"IsE2E"==o?e.push({label:o.toString(),name:o.toString(),type:"bool"}):e.push({name:o.toString(),label:o.toString(),searchable:!0})}));var n=Object(v.e)(e);return console.log(n,t),u.a.createElement(p.a,{columns:n,data:t&&t.length>0?t:[],striped:!0,noHeader:!0,highlightOnHover:!0,dense:!0})}return null}},{key:"render",value:function(){var e=this,t=this.fnDatatableCol(),n=this.state,a=(n.items,n.PageTitle),o=(n.showModal,n.FormTitle,n.formvalue,n.ModalValueChanged,n.event,n.ProcessInfoData,n.IncentiveFileData);return u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:"content"},u.a.createElement(C.a,null),u.a.createElement(y.a,null,u.a.createElement(b.a,{md:"12"},u.a.createElement(g.a,null,u.a.createElement(E.a,null,u.a.createElement(y.a,null,u.a.createElement(b.a,{md:8},u.a.createElement(I.a,{tag:"h4"},a)))),u.a.createElement(b.a,{md:12},this.state.ConfirmationOpen&&u.a.createElement(D.a,{onConfirm:function(t){return e.handleConfirmOk(t)},onCancel:function(){return e.hideConfirmationModal()},show:!0,message:"Do You want to process the file ?"}),u.a.createElement(O.a,null,u.a.createElement("div",{class:"inc",style:{height:"fit-content"}},o&&o.length>0&&u.a.createElement(p.a,{columns:t,data:o,pagination:!1}))))))),u.a.createElement(d.a,{show:this.state.processedFileModal,onHide:this.handleProcessedFilePopup.bind(this),dialogClassName:"modal-90w"},u.a.createElement(d.a.Header,{closeButton:!0},u.a.createElement(d.a.Title,null)),u.a.createElement(d.a.Body,null,u.a.createElement("div",{className:"modalmoreinfodata"},this.renderModalProcessFile())),u.a.createElement(d.a.Footer,null))))}}]),n}(u.a.Component));t.default=Object(h.b)((function(e){return{CommonData:e.CommonData}}),{GetCommonData:f.g,InsertData:f.y,UpdateData:f.S,addRecord:m.d,GetCommonspData:f.h})(M)}}]);
//# sourceMappingURL=34.fa690542.chunk.js.map