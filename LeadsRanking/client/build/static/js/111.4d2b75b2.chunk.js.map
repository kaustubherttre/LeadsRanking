{"version":3,"sources":["views/UploadVideo.jsx","views/Common/AlertBox.jsx"],"names":["UploadVideo","props","handleChange","e","formvalue","state","console","log","od","target","type","id","value","setState","selectedFile","errors","document","getElementById","style","display","querySelector","formColumnList","validURL","Object","assign","Link","_","omit","checked","files","content","video","isVideo","name","bytesToMegaBytes","size","isImage","selectAll","newselectedList","_isAMomentObject","format","ModalValueChanged","root","isLoaded","showModal","items","store","activePage","PageTitle","FormTitle","event","user","prolist","agentranklist","groupnamelist","VideoData","PostUploadVideoFormData","addClass","clickVideo","clickModalUrl","PageId","handleClose","bind","handleShow","handleSave","productchange","selectedrow","Date","moment","add","Cell","v","title","substring","length","columnlist","label","searchable","cell","row","SurveyName","hide","addable","editable","hideonmodal","EmployeeId","width","config","cols","con","distinct","data","Id","Display","RoleName","UserGroupName","utc","href","className","onClick","getHtmlListen","ProductList","this","map","col","fnBindRootData","GetCommonspData","c","params","result","setTimeout","getuser","nextProps","CommonData","joinObject","isError","fnBindStore","InsertSuccessData","status","showAlert","AlertMsg","error","AlertVarient","UpdateSuccessData","str","RegExp","test","PageHtmlUrl","ContentType","play","columnslist","columns","fnDatatableCol","push","aria-label","variant","handleCopy","aria-hidden","handleEdit","a","RoleId","RoleIdArray","val","toString","ProductID","GroupId","GroupIdArray","preventDefault","getElementsByName","reportValidity","JSON","parse","stringify","fnCleanData","UserID","addVideo","productid","parseInt","pageid","pageId","alert","keys","newItem","createElement","setAttribute","insertBefore","by","formData","FormData","append","Array","isArray","roleIds","selectedroles","join","groupIds","selectedgroups","results","resultsop","filename","parts","split","getExtension","toLowerCase","bytes","fnRenderfrmControl","src","controls","show","body","md","tag","Group","as","Col","controlId","firstoption","onChange","onHide","dialogClassName","Header","closeButton","Title","Body","Footer","condition","ref","onSubmit","renderViewData","React","Component","connect","GetCommonData","InsertData","UpdateData","addRecord","AlertBox"],"mappings":"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","file":"static/js/111.4d2b75b2.chunk.js","sourcesContent":["\nimport React from \"react\";\nimport { ButtonGroup, Button, Modal, Form, Glyphicon } from 'react-bootstrap';\n\nimport {\n  GetCommonData, InsertData, UpdateData, GetCommonspData, PostUploadVideoFormData\n} from \"../store/actions/CommonAction\";\nimport {\n  addRecord\n} from \"../store/actions/CommonMongoAction\";\n\nimport { If, Then } from 'react-if';\n//import { If, Then, Else, When, Unless, Switch, Case, Default } from 'react-if';\n\nimport { connect } from \"react-redux\";\n// import { Link } from \"react-router-dom\";\nimport DataTable from './Common/DataTableWithFilter';\nimport DropDown from './Common/DropDownList';\nimport AlertBox from './Common/AlertBox';\nimport moment from 'moment';\nimport { CompareJson, fnBindRootData, fnRenderfrmControl, fnDatatableCol, fnCleanData, GetJsonToArray, getMax, joinObject } from '../utility/utility.jsx';\n// reactstrap components\nimport {\n  Card,\n  CardHeader,\n  CardBody,\n  CardTitle,\n  Table,\n  Row,\n  Col\n} from \"reactstrap\";\nimport { getuser } from \"utility/utility\";\nimport Moment from 'react-moment';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport _, { bind } from 'underscore';\n\n\nclass UploadVideo extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      root: \"UploadVideoData\",\n      isLoaded: false,\n      showModal: false,\n      items: [],\n      store: [],\n      activePage: 1,\n      //root: \"ProductGrpMapping\",\n      PageTitle: \"Upload Video\",\n      FormTitle: \"\",\n      formvalue: {},\n      event: \"\",\n      ModalValueChanged: false,\n      user: {},\n      prolist: '',\n      agentranklist: '',\n      groupnamelist: '',\n      selectedFile: null,\n      VideoData: [],\n      PostUploadVideoFormData: [],\n      errors: {},\n      addClass: 'btn btn-primary',\n      clickVideo: false,\n      clickModalUrl: '',\n      content: '',\n      PageId: null,\n      //selectedrow: { \"Id\": 1, \"type\": \"Job\", \"alerttitle\": \"Mongoquery2\", \"querytype\": \"MongoQuery\", \"databasename\": \"mydb\", \"collection\": \"movie\", \"dbserver\": \"Replica\", \"tomail\": \"jitendras@policybazaar.com,Ayush@policybazaar.com\", \"tomobile\": \"99688436\", \"count\": 4, \"operation\": \"lt\", \"starttime\": \"1970-01-01T10:28:04.000Z\", \"frequency\": 120, \"IsActive\": false, \"reporttype\": null, \"endtime\": \"1970-01-01T10:28:04.000Z\", \"nextruntime\": \"2019-11-29T11:20:00.960Z\", \"createddate\": null, \"createdby\": \"deepankar\", \"updateddate\": null, \"updatedby\": null, \"ExcelSheetNames\": \"BaseData,Health,Term,Investment,Motor,EMAILBODY,EMAILBODY\", \"querysource\": \"{$query:{name:\\\"garvitjain\\\",count:{$lt:6}}}\", \"ccmail\": null, \"bccmail\": null, \"frommail\": null }\n    };\n    this.handleClose = this.handleClose.bind(this);\n    this.handleShow = this.handleShow.bind(this);\n    this.handleSave = this.handleSave.bind(this);\n    this.productchange = this.productchange.bind(this);\n    //this.GroupNamelistchange = this.GroupNamelistchange.bind(this);\n    //this.agentranklistchange = this.agentranklistchange.bind(this);\n    this.selectedrow = { \"Id\": 0, \"ProductId\": null, \"IsRequired\": true, \"IsActive\": true, \"StartDate\": new Date(), \"EndDate\": moment(new Date()).add(1, 'days') }\n    const Cell = ({ v }) => (\n      <span title={v}>{(v) ? v.substring(0, 25) : ''}{(v && v.length > 25) ? '...' : ''}</span>\n    );\n    this.columnlist = [\n      {\n        name: \"SurveyName\",\n        label: \"Enter Video Title\",\n        type: \"string\",\n        searchable: true,\n        cell: row => <Cell v={row.SurveyName} />,\n      },\n      {\n        name: \"pageId\",\n        label: \"pageId\",\n        type: \"int\",\n        hide: true,\n        addable: false,\n        editable: false,\n        hideonmodal: true,\n      },\n      {\n        name: \"SurveyId\",\n        label: \"Survey Id\",\n        type: \"int\",\n        hide: true,\n        addable: false,\n        editable: false,\n        hideonmodal: true,\n      },\n      {\n        name: \"EmployeeId\",\n        label: \"EmployeeId\",\n        type: \"string\",\n        searchable: true,\n        editable: false,\n        addable: false,\n        cell: row => <Cell v={row.EmployeeId} />,\n        width: \"200px\",\n        hideonmodal: true,\n      },\n      {\n        name: \"Product\",\n        label: \"Product\",\n        type: \"dropdown\",\n        config: {\n          root: \"Products\",\n          cols: [\"ID AS Id\", \"ProductName AS Display\"],\n          con: [{ \"Isactive\": 1 }]\n        },\n        searchable: true,\n        editable: false,\n        addable: false,\n        hideonmodal: true,\n      },\n      {\n        name: \"ProductID\",\n        label: \"Product\",\n        type: \"dropdown\",\n        config: {\n          root: \"Products\",\n          cols: [\"ID AS Id\", \"ProductName AS Display\"],\n          con: [{ \"Isactive\": 1 }]\n        },\n        hide: true,\n        editable: false,\n      },\n      {\n        name: \"RoleId\",\n        label: \"Role\",\n        type: \"multiselect\",\n        searchable: true,\n        distinct: true,\n        config: {\n          root: 'roleids',\n          data: [{ Id: 13, Display: \"Agent\" }, { Id: 12, Display: \"Supervisor\" }, { Id: 2, Display: \"Admin\" }],\n        },\n        hide: true,\n        editable: false,\n\n      },// None value should be always 1 \n\n      {\n        name: \"RoleName\",\n        label: \"RoleName\",\n        type: \"string\",\n        searchable: true,\n        distinct: true,\n        editable: false,\n        addable: false,\n        cell: row => <Cell v={row.RoleName} />,\n        width: \"200px\",\n        hideonmodal: true,\n      },\n      {\n        name: \"GroupId\",\n        label: \"Group\",\n        type: \"multiselect\",\n        searchable: true,\n        distinct: true,\n        config: {\n          root: \"vwMatrixUserGroup\",\n          cols: [\"DISTINCT UGM.UserGroupID AS Id\", \"UGM.UserGroupName AS Display\", \"ProductID\"],\n        },\n        hide: true,\n        editable: false,\n      },\n      {\n        name: \"UserGroupName\",\n        label: \"GroupName\",\n        type: \"string\",\n        searchable: true,\n        distinct: true,\n        editable: false,\n        addable: false,\n        cell: row => <Cell v={row.UserGroupName} />,\n        width: \"200px\",\n        hideonmodal: true,\n\n      },\n      {\n        name: \"StartDate\",\n        label: \"FromDate\",\n        type: \"datetime\",\n        utc: \"no\",\n      },\n      {\n        name: \"EndDate\",\n        label: \"ToDate\",\n        type: \"datetime\",\n        utc: \"no\",\n      },\n      {\n        name: \"IsRequired\",\n        label: \"IsRequired\",\n        type: \"bool\"\n      },\n      {\n        name: \"IsActive\",\n        label: \"IsActive\",\n        type: \"bool\"\n      },\n      {\n        name: \"ContentType\",\n        label: \"ContentType\",\n        type: \"dropdown\",\n        config: {\n          data: [{ Id: 2, Display: \"Video\" }, { Id: 4, Display: \"Image\" }],\n        },\n        editable: false,\n      },\n      {\n        name: \"Video\",\n        label: \"Choose File\",\n        type: \"video\",\n        editable: false,\n        hide: true,\n      },\n      {\n        name: \"Link\",\n        label: \"Link\",\n        type: \"string\",\n        editable: true,\n        cell: row => <a href={row.Link} target=\"_blank\"><Cell v={row.Link} /></a>,\n        width: \"200px\"\n      },\n      {\n        name: \"Listen\",\n        label: \"View\",\n        cell: row =>\n          <div className=\"listenUserDetails\">\n            <a onClick={(e) => this.getHtmlListen(e, row)} className=\"detailsinfo\">\n              <i className=\"fa fa-eye\"></i></a>\n          </div>,\n        editable: false,\n        addable: false,\n        hideonmodal: true,\n\n      },\n\n    ];\n\n    this.formColumnList = this.columnlist;\n    let count = 0;\n    this.ProductList = {\n      config:\n      {\n        root: \"Products\",\n        cols: [\"ID AS Id\", \"ProductName AS Display\"],\n        con: [{ \"Isactive\": 1 }],\n        //state: false\n      }\n    };\n  }\n\n\n\n  componentDidMount() {\n\n    this.columnlist.map(col => (\n      fnBindRootData(col, this.props)\n    ));\n    this.props.GetCommonspData({\n      root: 'UploadVideoData',\n      c: \"L\",\n      params: [{ \"ProductID\": 0 }],\n    }, function (result) {\n      if (result.data && result.data.data[0].length > 0) {\n        debugger;\n        console.log(result.data.data[0]);\n        this.setState({ VideoData: result.data.data[0] });\n      }\n    }.bind(this));\n\n    setTimeout(function () {\n      this.setState({ user: getuser() });\n    }.bind(this), 500);\n\n  }\n\n  fnBindStore(col, nextProps) {\n    if (col.type == \"dropdown\") {\n      let items;\n      if (nextProps.CommonData[this.state.root] && nextProps.CommonData[col.config.root]) {\n        items = joinObject(this.state.VideoData, nextProps.CommonData[col.config.root], col.name)\n        this.setState({ items: items });\n      }\n    }\n  }\n\n  componentWillReceiveProps(nextProps) {\n\n    if (!nextProps.CommonData.isError) {\n      this.setState({ items: nextProps.CommonData[this.state.root] });\n      this.setState({ store: nextProps.CommonData });\n      this.columnlist.map(col => (\n        this.fnBindStore(col, nextProps)\n      ));\n    }\n\n\n\n    if (nextProps.CommonData && nextProps.CommonData.InsertSuccessData && nextProps.CommonData.InsertSuccessData.status) {\n      if (nextProps.CommonData.InsertSuccessData.status != 200) {\n        //alert(nextProps.CommonData.InsertSuccessData.error);\n        this.setState({ showAlert: true, AlertMsg: nextProps.CommonData.InsertSuccessData.error, AlertVarient: \"danger\" });\n      }\n      else {\n        //this.setState({ showModal: false });\n        this.setState({ showAlert: true, AlertMsg: \"Record Add Successfully.\", AlertVarient: \"success\" });\n      }\n    }\n\n    if (nextProps.CommonData && nextProps.CommonData.UpdateSuccessData && nextProps.CommonData.UpdateSuccessData.status) {\n      if (nextProps.CommonData.UpdateSuccessData.status != 200)\n        this.setState({ showAlert: true, AlertMsg: nextProps.CommonData.InsertSuccessData.error, AlertVarient: \"danger\" });\n      else {\n        //this.setState({ showModal: false });\n        this.setState({ showAlert: true, AlertMsg: \"Record Updated Successfully.\", AlertVarient: \"success\" });\n      }\n    }\n\n  }\n\n  validURL(str) {\n    var pattern = new RegExp('^(https?:\\\\/\\\\/)?' + // protocol\n      '((([a-z\\\\d]([a-z\\\\d-]*[a-z\\\\d])*)\\\\.)+[a-z]{2,}|' + // domain name\n      '((\\\\d{1,3}\\\\.){3}\\\\d{1,3}))' + // OR ip (v4) address\n      '(\\\\:\\\\d+)?(\\\\/[-a-z\\\\d%_.~+]*)*' + // port and path\n      '(\\\\?[;&a-z\\\\d%_.~+=-]*)?' + // query string\n      '(\\\\#[-a-z\\\\d_]*)?$', 'i'); // fragment locator\n    return !!pattern.test(str);\n  }\n\n  getHtmlListen(e, row) {//debugger;\n    // console.log('-----------------',row);\n    // console.log('/////////////////////////////',row.PageHtmlUrl);\n    this.setState({ clickVideo: true, clickModalUrl: row.PageHtmlUrl, content: row.ContentType });\n    if (row.ContentType == 2) {\n      var video = document.getElementById('SurveyVideo');\n      if (video) {\n        video.play();\n      }\n    }\n  }\n\n  fnDatatableCol() {\n    const columnslist = this.columnlist;//.filter(task => task.label !== 'Enter Link Url');\n\n\n    var columns = fnDatatableCol(columnslist);\n\n    // columns.push({\n    //   name: \"Products Name\",\n    //   selector: \"ProductID_display\",\n    //   sortable: true,\n    // });\n\n    columns.push({\n      name: \"Action\",\n      cell: row => <ButtonGroup aria-label=\"Basic example\">\n        <Button variant=\"secondary\" onClick={() => this.handleCopy(row)}><i className=\"fa fa-files-o\" aria-hidden=\"true\"></i></Button>\n        <Button variant=\"secondary\" onClick={() => this.handleEdit(row)}><i className=\"fa fa-pencil-square-o\" aria-hidden=\"true\"></i></Button>\n      </ButtonGroup>\n    });\n    return columns;\n  }\n\n  async handleCopy(row) {\n    debugger;\n    let results = await this.props.GetCommonspData({\n      root: 'UploadVideoData',\n      c: \"L\",\n      params: [{ \"pageId\": row.PageId }],\n    }, function (result) {\n      if (result.data && result.data.data[0]) {//debugger;\n        console.log('-------------------------------', result.data.data[0], result.data.data[1], result.data.data[2], result.data.data[3]);\n        //this.setState({ VideoData: result.data.data[0] });\n        if (result.data.data[1].length > 0) {\n          if (result.data.data[1][0].RoleId == 0) {\n            row.RoleId = [{ label: \"All items are Selected\", value: \"*\" }]\n          } else {\n            let RoleIdArray = [];\n            result.data.data[1].map(function (val) {\n\n              RoleIdArray.push({\n                \"label\": val.RoleName.toString(),\n                \"value\": val.RoleId,\n              });\n            })\n            row.RoleId = RoleIdArray;\n          }\n        }\n\n        if (result.data.data[3] && result.data.data[3].length > 0) {\n          row.ProductID = result.data.data[3][0].ProductID;\n        }\n\n        if (result.data.data[2].length > 0) {\n          if (result.data.data[2][0].GroupId == 0) {\n            row.GroupId = [{ label: \"All items are Selected\", value: \"*\" }]\n          } else {\n            let GroupIdArray = [];\n            result.data.data[2].map(function (val) {\n\n              GroupIdArray.push({\n                \"label\": val.UserGroupName.toString(),\n                \"value\": val.GroupId,\n              });\n            })\n            row.GroupId = GroupIdArray;\n          }\n        }\n        console.log('////////////////////////////////////', row);\n        this.setState({ formvalue: row, event: \"Copy\", showModal: true, FormTitle: \"Copy Record\" });\n      }\n    }.bind(this));\n\n  }\n  handleEdit(row) {\n    this.setState({ od: Object.assign({}, row, {}), formvalue: Object.assign({}, row, {}), event: \"Edit\", showModal: true, FormTitle: \"Edit Record\" });\n  }\n  handleClose() {\n    this.setState({ showModal: false });\n  }\n  handleShow() {\n    // this.selectedrowshow = { \"Id\": 0, \"ProductId\": null, \"IsRequired\": true, \"IsActive\": true, \"StartDate\": new Date(), \"EndDate\": moment(new Date()).add(1, 'days')}\n    // delete this.selectedrowshow.Link;\n\n    // console.log('selectedrow',this.selectedrowshow);\n\n    this.setState({ formvalue: this.selectedrow, event: \"Add\", showModal: true, FormTitle: \"Add New Record\" });\n  }\n\n  async handleSave(e) {\n    e.preventDefault();\n\n    if (document.getElementsByName(\"frmUploadVideo\").length > 0 &&\n      document.getElementsByName(\"frmUploadVideo\")[0].reportValidity()) {\n\n      let formvalue = JSON.parse(JSON.stringify(this.state.formvalue));\n      this.fnCleanData(formvalue);\n      console.log(\"formvalue\", formvalue);\n      if (!('InvTypeID' in formvalue)) {\n        formvalue[\"InvTypeID\"] = 1;\n      }\n      let id = formvalue[\"Id\"];\n      let by = getuser().UserID;\n\n      delete formvalue[\"Id\"]\n      if (this.state.event == \"Edit\") {//debugger;\n        this.fnCleanData(formvalue);\n        this.setState({ selectedFile: '' });\n        var result = await this.addVideo(formvalue, \"edit\");\n        if (result == false) {\n          return false;\n        }\n        // let res =  this.props.GetCommonspData({\n        //   root: 'InsertVideoData',\n        //   c: \"L\",\n        //   params: [{ \"pageId\" : formvalue[\"pageId\"] , \"IsRequired\" : formvalue[\"IsRequired\"] , \"SurveyName\" : formvalue[\"SurveyName\"] , \"StartDate\" : formvalue[\"StartDate\"]\n        //   , \"Endtime\" : formvalue[\"EndDate\"], \"PageUrl\" : '',\"ContentType\": 0, \"UserId\" : by }],\n        // });\n\n      } else if (this.state.event == \"Copy\") {\n        debugger;\n        //formvalue[\"Id\"] = getMax(this.state.items, \"Id\").Id + 1;\n        //formvalue[\"CreatedOn\"] = new Date();\n        console.log('formvalueee////////////////////////////', formvalue);\n        this.fnCleanData(formvalue);\n        var result = await this.addVideo(formvalue, \"add\");\n        if (result == false) {\n          return false;\n        }\n\n      } else {\n        debugger;\n\n        var result = await this.addVideo(formvalue, \"add\");\n        if (result == false) {\n          return false;\n        }\n\n      }\n      let productid = parseInt(formvalue[\"ProductID\"]);\n      let pageid = (this.state.pageId)?this.state.pageId : null;\n      \n      if (productid) {\n        var con = { \"ProductId\": productid };\n      } else {\n        var con = { \"pageId\": pageid };\n      }\n\n      //setTimeout(function () {\n\n      if (productid || pageid) {//debugger;\n        this.props.GetCommonspData({\n          root: 'UploadVideoData',\n          c: \"L\",\n          params: [con],\n        }, function (result) {\n          if (result.data && result.data.data[0]) {//debugger;\n            console.log(result.data.data[0]);\n            this.setState({ VideoData: result.data.data[0] });\n          }\n        }.bind(this));\n      }\n\n      // }.bind(this), 2000);\n      this.setState({ showModal: false });\n    }\n    this.setState({ addClass: 'btn btn-primary' })\n    return false;\n  }\n\n  async addVideo(formvalue, event) {\n    debugger;\n    // if (formvalue[\"GroupId\"] == '' || typeof formvalue[\"GroupId\"] == \"undefined\") {\n    //   alert(\"Please enter group\");\n    //   return false;\n    //     }\n    console.log(formvalue);\n    if (event == \"add\") {\n      if (formvalue[\"RoleId\"] == '' || typeof formvalue[\"RoleId\"] == \"undefined\") {\n        alert(\"Please enter Role\");\n        return false;\n      }\n      // if (formvalue[\"ProductID\"] == '' || typeof formvalue[\"ProductID\"]  == \"undefined\") {\n      // alert(\"Please enter Product\");\n      // return false;\n      // } \n      if (formvalue[\"SurveyName\"] == '' || typeof formvalue[\"SurveyName\"] == \"undefined\") {\n        alert(\"Please enter Surveyname\");\n        return false;\n      }\n\n\n    }\n    if (Object.keys(this.state.errors).length > 0) {\n      console.log('errorssssssssssssssssss', this.state.errors);\n      alert(\"Form not Submitted\");\n      return false;\n    }\n    var newItem = document.createElement('span');\n    newItem.setAttribute(\"class\", \"UploadVideoSave fa fa-spin fa-spinner\");\n    document.getElementById('saveVideoForm').insertBefore(newItem, document.getElementById('saveVideo'));\n\n    let by = getuser().UserID;\n\n    // Create an object of formData \n    const formData = new FormData();\n    console.log(formData);\n    // Update the formData object \n    if (event == \"add\") {\n      formData.append(\n        \"myFile\",\n        this.state.selectedFile,\n        this.state.selectedFile.name\n      );\n    }\n    if (event == \"add\") {\n      if (Array.isArray(formvalue[\"RoleId\"])) {\n        var roleIds = formvalue[\"RoleId\"].map(function (val) {\n          if (val.value == '*')\n            return 0;\n          else\n            return val.value;\n        });\n        var selectedroles = roleIds.join(\",\");\n      } else {\n        var selectedroles = 0;\n      }\n      if (Array.isArray(formvalue[\"GroupId\"])) {\n        var groupIds = formvalue[\"GroupId\"].map(function (val) {\n          if (val.value == '*')\n            return 0;\n          else\n            return val.value;\n        });\n        var selectedgroups = groupIds.join(\",\");\n      } else {\n        var selectedgroups = 0;\n      }\n    }\n    if (event == \"add\") {\n      if (formvalue[\"ProductID\"]) {\n        formData.append('ProductId', formvalue[\"ProductID\"]);\n      } else {\n        formData.append('ProductId', '');\n      }\n      formData.append('roleId', selectedroles);\n      formData.append('groupId', selectedgroups);\n    }\n    if (event == \"edit\") {\n      formData.append('pageId', formvalue[\"PageId\"]);\n    }\n    formData.append('StartDate', formvalue[\"StartDate\"]);\n    formData.append('Endtime', formvalue[\"EndDate\"]);\n    formData.append('SurveyName', formvalue[\"SurveyName\"]);\n    formData.append('IsRequired', formvalue[\"IsRequired\"]);\n    formData.append('IsActive', formvalue[\"IsActive\"]);\n    formData.append('userId', by);\n    formData.append('ContentType', formvalue[\"ContentType\"]);\n    if(formvalue[\"Link\"] && formvalue[\"ContentType\"] == 4){\n    formData.append('Link', formvalue[\"Link\"]);  \n    }else{\n      formData.append('Link', '');   \n    }\n\n    let resultsop = await PostUploadVideoFormData(formData, function (results) {//debugger;\n      console.log(results);\n      if (event == \"add\") {\n        alert('Record Added');\n      } else if (event == \"edit\") {\n        alert('Record Updated');\n      }\n      this.setState({ pageId: results.data.data[0].pageId });\n    }.bind(this));\n\n    console.log(resultsop);\n\n  }\n\n  getExtension(filename) {\n    var parts = filename.split('.');\n    return parts[parts.length - 1];\n  }\n\n  isVideo(filename) {//debugger;\n    var ext = this.getExtension(filename);\n    switch (ext.toLowerCase()) {\n      case 'm4v':\n      case 'avi':\n      case 'mpg':\n      case 'mp4':\n      case 'webm':\n      case 'mov':\n        // etc\n        return true;\n    }\n    return false;\n  }\n\n  isImage(filename) {\n    debugger;\n    var ext = this.getExtension(filename);\n    switch (ext.toLowerCase()) {\n      case 'gif':\n      case 'jpeg':\n      case 'png':\n      case 'jpg':\n        // etc\n        return true;\n    }\n    return false;\n  }\n\n  bytesToMegaBytes(bytes) { //debugger;\n    return bytes / (1024 * 1024);\n  }\n\n  handleChange = (e, props) => {\n    debugger;\n\n    let formvalue = this.state.formvalue;\n    console.log(formvalue);\n    let od = this.state.od;\n\n\n    if (e.target && e.target.type == \"select-one\" && e.target.id == \"ContentType\") {\n      formvalue[e.target.id] = e.target.value;\n      this.setState({ selectedFile: null, errors: {} });\n      var el = document.getElementById('Video');\n      el.value = null;\n\n\n      if (e.target.value == 4) {\n        document.getElementById(\"Link\").style.display = \"block\";\n        document.querySelector('label[for=\"Link\"]').style.display = \"block\";\n      } else {\n        document.getElementById(\"Link\").style.display = \"none\";\n        document.querySelector('label[for=\"Link\"]').style.display = \"none\";\n      }\n      console.log('columnsttttttt', this.formColumnList);\n    } else if (e.target && e.target.id == \"Link\") {\n      debugger;\n      formvalue[e.target.id] = e.target.value;\n\n      if (e.target.value && !this.validURL(e.target.value)) {\n\n        this.setState({ errors: Object.assign({}, this.state.errors, { Link: \"Select Valid Link Url\" }) })\n      } else {\n        console.log('beforee', this.state.errors);\n        this.setState({ errors: _.omit(this.state.errors, 'Link') });\n        //setTimeout(function(){  console.log('after', this.state.errors);}.bind(this),500);   \n\n      }\n\n    }\n    else if (e.target && e.target.type == \"checkbox\") {//debugger;\n      formvalue[e.target.id] = e.target.checked;\n    }\n    else if (e.target && e.target.type == \"file\") {\n      debugger;\n      if (e.target.files[0]) {\n        var content = document.getElementById('ContentType').value;\n\n        if (typeof content == \"undefined\" || content == null || content == '') {\n          this.setState({ errors: Object.assign({}, this.state.errors, { video: \"Select Content Type First\" }) })\n        } else if (content == 2 && ((!this.isVideo(e.target.files[0].name)) || this.bytesToMegaBytes(e.target.files[0].size) > 60)) {\n          this.setState({ errors: Object.assign({}, this.state.errors, { video: \"Please select a valid video file of size up to 60MB.\" }) })\n\n        } else if (content == 4 && (!this.isImage(e.target.files[0].name))) {\n          this.setState({ errors: Object.assign({}, this.state.errors, { video: \"Please select a valid image file\" }) })\n        }\n        else {\n          console.log('beforeeeeee', this.state.errors);\n          this.setState({ errors: _.omit(this.state.errors, 'video') })\n          console.log('after', this.state.errors);\n        }\n        this.setState({ selectedFile: e.target.files[0] });\n      }\n    }\n    else if (e && e.type == \"multiselect\") {\n      //this.setState({ selectedFile: e.target.files[0] }); \n      //debugger;\n      if (e.selectAll == true) {\n        formvalue[e.id] = 5;\n      } else {\n        formvalue[e.id] = e.newselectedList;\n      }\n    }\n    else if (e._isAMomentObject) {\n      formvalue[props] = e.format()\n    }\n    else {\n      formvalue[e.target.id] = e.target.value;\n      console.log(formvalue[e.target.id]);\n    }\n    //debugger;\n    //let Changed = CompareJson(od, formvalue);\n\n    this.setState({ formvalue: formvalue, ModalValueChanged: true, });\n  }\n\n  fnCleanData(formvalue) {\n    formvalue = fnCleanData(this.columnlist, formvalue);\n    this.setState({ formvalue: formvalue });\n  }\n  productchange(e, props) {\n    // setTimeout(function () {\n    this.props.GetCommonspData({\n      root: 'UploadVideoData',\n      c: \"L\",\n      params: [{ \"ProductId\": e.target.value }],\n    }, function (result) {\n      if (result.data && result.data.data[0]) {//debugger;\n        console.log(result.data.data[0]);\n        this.setState({ VideoData: result.data.data[0] });\n      }\n    }.bind(this));\n    //}.bind(this), 1000);\n\n\n  }\n\n\n  fnRenderfrmControl(col, formvalue, handleChange, event, errors) {\n    // if((event == 'Edit' || event == 'Copy') && col.label == 'Enter Link Url'){\n    // return;\n    // }\n\n    setTimeout(() => {\n\n      if (formvalue && formvalue['ContentType'] == 4) {\n        if(document.getElementById(\"Link\")){\n        document.getElementById(\"Link\").style.display = \"block\";\n        document.querySelector('label[for=\"Link\"]').style.display = \"block\";\n\n        }\n      } else {\n        if(document.getElementById(\"Link\")){\n        document.getElementById(\"Link\").style.display = \"none\";\n        document.querySelector('label[for=\"Link\"]').style.display = \"none\";\n\n        }\n      }\n\n    }, 200);\n\n\n    return fnRenderfrmControl(col, formvalue, handleChange, event, errors)\n\n  }\n\n  renderViewData(ContentType, clickModalUrl) {\n    if (ContentType == 4) {\n      return <img src={clickModalUrl} />\n    } else if (ContentType == 2) {\n      return <video id=\"SurveyVideo\" width=\"450\" controls>\n        <source src={clickModalUrl} />\n      </video>\n    }\n  }\n\n\n\n  render() {\n    const columns = this.fnDatatableCol();\n    const { items, PageTitle, showModal, FormTitle, formvalue, errors, showAlert, AlertMsg, AlertVarient, ModalValueChanged, event, content } = this.state;\n    return (\n      <>\n        <div className=\"content\">\n          <AlertBox show={showAlert} variant={AlertVarient} body={AlertMsg}></AlertBox>\n          <Row>\n            <Col md=\"12\">\n              <Card>\n                <CardHeader>\n                  <Row>\n                    <Col md={7}>\n                      <CardTitle tag=\"h4\">{PageTitle}</CardTitle>\n                    </Col>\n                    <Col md={3}>\n                      <Form.Group as={Col} md={12} controlId=\"product_dropdown\">\n                        <DropDown firstoption=\"Select Product\" col={this.ProductList} onChange={this.productchange}>\n                        </DropDown>\n                      </Form.Group>\n                    </Col>\n                    <Col md={2}>\n                      <Button variant=\"primary\" onClick={this.handleShow}>ADD</Button>\n                    </Col>\n                  </Row>\n                </CardHeader>\n                <CardBody>\n                  <DataTable\n                    columns={columns}\n                    data={this.state.VideoData}\n                  />\n                </CardBody>\n              </Card>\n            </Col>\n          </Row>\n\n          <Modal show={showModal} onHide={this.handleClose} dialogClassName=\"modal-90w\">\n            <Modal.Header closeButton>\n              <Modal.Title>{FormTitle}</Modal.Title>\n            </Modal.Header>\n            <Modal.Body>\n              <Form name=\"frmUploadVideo\">\n                <Row>\n                  {this.formColumnList.map(col => (\n                    this.fnRenderfrmControl(col, formvalue, this.handleChange, event, errors)\n                  ))}\n                </Row>\n              </Form>\n            </Modal.Body>\n            <Modal.Footer>\n              <Button variant=\"secondary\" onClick={this.handleClose}>\n                Close\n              </Button>\n              <If condition={ModalValueChanged}>\n                <Then>\n                  <form ref=\"form\" onSubmit={this.handleSave} id=\"saveVideoForm\">\n                    <input type=\"submit\" id=\"saveVideo\" className='btn btn-primary btnsaveVideo' value=\"Save Changes\" />\n                  </form>\n                </Then>\n              </If>\n            </Modal.Footer>\n          </Modal>\n\n          <Modal show={this.state.clickVideo} onHide={() => this.setState({ clickVideo: false })} dialogClassName=\"modal-50w\">\n            <Modal.Header closeButton>\n              <Modal.Title></Modal.Title>\n            </Modal.Header>\n            <Modal.Body>\n              <div className=\"modalmoreinfodata\">\n                {this.renderViewData(content, this.state.clickModalUrl)}\n              </div>\n            </Modal.Body>\n            <Modal.Footer>\n\n            </Modal.Footer>\n          </Modal>\n\n        </div>\n      </>\n    );\n  }\n}\n\n\nfunction mapStateToProps(state) {\n  return {\n    CommonData: state.CommonData\n  };\n}\n\nexport default connect(\n  mapStateToProps,\n  {\n    GetCommonData,\n    InsertData,\n    UpdateData,\n    addRecord,\n    GetCommonspData\n  }\n)(UploadVideo);","\r\nimport React from \"react\";\r\nimport { Alert } from 'react-bootstrap';\r\n\r\n\r\nclass AlertBox extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            show: this.props.show\r\n        }\r\n    }\r\n    componentDidUpdate() {\r\n\r\n    }\r\n    componentWillReceiveProps(nextProps) {\r\n        this.setState({ show: nextProps.show });\r\n        if (nextProps.show) {\r\n            setTimeout(function () {\r\n                this.setState({ show: false });\r\n            }.bind(this), 5000);\r\n        }\r\n    }\r\n    render() {\r\n        if (this.state.show) {\r\n            return (\r\n                <Alert variant={this.props.variant}>\r\n                    {this.props.body}\r\n                </Alert>\r\n            );\r\n        }\r\n        else {\r\n            return null;\r\n        }\r\n    }\r\n}\r\n\r\nexport default AlertBox;\r\n"],"sourceRoot":""}