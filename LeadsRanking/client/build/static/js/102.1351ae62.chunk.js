(this.webpackJsonpMatrix_Dashboard=this.webpackJsonpMatrix_Dashboard||[]).push([[102,126],{1312:function(e,t,a){"use strict";a.r(t);var n=a(39),l=a(40),o=a(121),r=a(42),i=a(41),s=a(0),u=a.n(s),d=a(1261),c=a(1262),f=a(1336),m=a(420),h=a(61),p=a(124),y=a(30),b=a(431),v=a(90),D=a(530),E=a(424),O=a(531),C=a(533),T=a(563),g=a(532),I=a(425),j=a(430),k=(a(427),function(e){Object(r.a)(a,e);var t=Object(i.a)(a);function a(e){var l;return Object(n.a)(this,a),(l=t.call(this,e)).handleChange=function(e,t){var a=l.state.formvalue;e.target&&"checkbox"===e.target.type?a[e.target.id]=e.target.checked:e._isAMomentObject?a[t]=e.format():a[e.target.id]=""===e.target.value?null:e.target.value,l.setState({formvalue:a,ModalValueChanged:!0})},l.state={isLoaded:!1,showModal:!1,items:[],activePage:1,root:"Users",PageTitle:"UsersWFH",FormTitle:"",formvalue:{},event:"",ModalValueChanged:!1,ResetTokenData:""},l.handleClose=l.handleClose.bind(Object(o.a)(l)),l.handleSave=l.handleSave.bind(Object(o.a)(l)),l.selectedrow={UserID:0,UserName:"",EmployeeId:""},l.columnlist=[{name:"UserName",label:"UserName",type:"string",editable:!1,sortable:!0,searchable:!0},{name:"UserID",label:"UserID",type:"hidden",hide:!0,sortable:!1,searchable:!1},{name:"EmployeeId",label:"EmployeeId",type:"string",editable:!1,sortable:!0,searchable:!0},{name:"CallingCompany",label:"CallingCompany",type:"dropdown",sortable:!0,searchable:!0,config:{root:"UsersWFH",data:[{Id:"WFH",Display:"WFH"},{Id:"KNOWLARITY",Display:"KNOWLARITY"}]}},{name:"DIDNo",label:"Mobile No",type:"string",sortable:!0,searchable:!0},{name:"IsWFH",label:"IsWFH",type:"bool",sortable:!0}],l}return Object(l.a)(a,[{key:"fnBindStore",value:function(e,t){var a;"dropdown"==e.type&&(t.CommonData[this.state.root]&&t.CommonData[e.config.root]&&(a=Object(v.l)(t.CommonData[this.state.root],t.CommonData[e.config.root],e.name),this.setState({items:a})))}},{key:"componentDidMount",value:function(){var e=this;this.columnlist.map((function(t){return Object(v.c)(t,e.props)})),this.props.GetCommonData({limit:10,skip:0,c:"L",root:this.state.root,cols:Object(v.a)(this.columnlist,"name"),con:[{Isactive:1}]})}},{key:"componentWillReceiveProps",value:function(e){var t=this;e.CommonData.isError||(this.setState({items:e.CommonData[this.state.root]}),this.columnlist.map((function(a){return t.fnBindStore(a,e)})))}},{key:"fnDatatableCol",value:function(){var e=this,t=Object(v.e)(this.columnlist);return t.push({name:"Action",cell:function(t){return u.a.createElement(d.a,{"aria-label":"Basic example"},u.a.createElement(c.a,{variant:"secondary",onClick:function(){return e.handleEdit(t)}},u.a.createElement("i",{className:"fa fa-pencil-square-o","aria-hidden":"true"})))}}),t}},{key:"handleEdit",value:function(e){this.setState({od:Object.assign({},e,{}),formvalue:Object.assign({},e,{}),event:"Edit",showModal:!0,FormTitle:"Edit Record"})}},{key:"handleClose",value:function(){this.setState({showModal:!1})}},{key:"handleSave",value:function(){var e=JSON.parse(JSON.stringify(this.state.formvalue));if("Edit"===this.state.event){var t=this.state.od,a=e.UserID;t.DIDNo!=e.DIDNo&&this.resetTokenDid(a),delete e.UserID,delete e.CallingCompany_display,""==e.DIDNo&&(e.DIDNo=null),0==e.IsWFH&&(e.CallingCompany=null),this.props.UpdateData({root:this.state.root,body:e,c:"L",querydata:{UserID:a}},(function(e){Object(j.b)("Record updated successfully...",{type:"success"})})),this.props.addRecord({root:"History",body:{module:"UsersWFH",od:this.state.od,nd:e,ts:new Date,by:Object(v.j)().UserID}}),this.setState({showModal:!1})}else this.state.event;return setTimeout(function(){this.props.GetCommonData({root:this.state.root,cols:Object(v.a)(this.columnlist,"name"),c:"L"})}.bind(this),2e3),this.setState({showModal:!1}),!1}},{key:"fnCleanData",value:function(e,t){e=Object(v.d)(this.columnlist,e,t),this.setState({formvalue:e})}},{key:"resetTokenDid",value:function(e){Object(h.M)(e,function(e){this.setState({ResetTokenData:e.data})}.bind(this))}},{key:"render",value:function(){var e=this,t=this.fnDatatableCol(),a=this.state,n=a.items,l=a.PageTitle,o=a.showModal,r=a.FormTitle,i=a.formvalue,s=a.ModalValueChanged,d=a.event;return u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:"content"},u.a.createElement(j.a,null),u.a.createElement(D.a,null,u.a.createElement(E.a,{md:"12"},u.a.createElement(O.a,null,u.a.createElement(C.a,null,u.a.createElement(D.a,null,u.a.createElement(E.a,{md:11},u.a.createElement(T.a,{tag:"h4"},l)),u.a.createElement(E.a,{md:1}))),u.a.createElement(g.a,null,u.a.createElement(b.a,{columns:t,data:n}))))),u.a.createElement(f.a,{show:o,onHide:this.handleClose,dialogClassName:"modal-90w"},u.a.createElement(f.a.Header,{closeButton:!0},u.a.createElement(f.a.Title,null,r)),u.a.createElement(f.a.Body,null,u.a.createElement(m.a,null,u.a.createElement(D.a,null,this.columnlist.map((function(t){return Object(v.f)(t,i,e.handleChange,d)}))))),u.a.createElement(f.a.Footer,null,u.a.createElement(c.a,{variant:"secondary",onClick:this.handleClose},"Close"),u.a.createElement(I.If,{condition:s},u.a.createElement(I.Then,null,u.a.createElement(c.a,{variant:"primary",onClick:this.handleSave},"Save Changes")))))))}}]),a}(u.a.Component));t.default=Object(y.b)((function(e){return{CommonData:e.CommonData}}),{GetCommonData:h.g,InsertData:h.y,UpdateData:h.S,addRecord:p.d})(k)},425:function(e,t,a){var n,l,o;l=[t,a(6),a(0)],void 0===(o="function"===typeof(n=function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function l(e){return"function"===typeof e.children?a.default.createElement(a.default.Fragment,null,e.children()):a.default.createElement(a.default.Fragment,null,e.children||null)}function o(e){return!!("function"===typeof e?e():e)}function r(e){return l(e)}function i(e){return l(e)}function s(e){var t=e.condition,n=e.children;if(null==n)return null;var l=o(t);return a.default.createElement(a.default.Fragment,null,[].concat(n).find((function(e){return e.type!==a.default.createElement(i,null).type^!l}))||null)}Object.defineProperty(e,"__esModule",{value:!0}),e.Then=r,e.Else=i,e.If=s,e.Unless=d,e.When=c,e.Case=f,e.Default=m,e.Switch=h,e.default=void 0,t=n(t),a=n(a),r.propTypes=i.propTypes={children:t.default.oneOfType([t.default.func,t.default.node])};var u=t.default.oneOfType([t.default.instanceOf(r),t.default.instanceOf(i),t.default.node]);function d(e){var t=e.condition,a=e.children;return!o(t)&&a?l({condition:t,children:a}):null}function c(e){var t=e.condition,a=e.children;return o(t)&&a?l({condition:t,children:a}):null}function f(e){return l(e)}function m(e){return l(e)}function h(e){var t,n,l=e.children;return a.default.Children.forEach(l,(function(e){a.default.isValidElement(e)&&(t||e.type!==f?n||e.type!==m||(n=e):o(e.props.condition)&&(t=e))})),t||n||null}s.propTypes={condition:t.default.oneOfType([t.default.func,t.default.bool]).isRequired,children:t.default.oneOfType([t.default.arrayOf(u),u])},d.propTypes={condition:t.default.oneOfType([t.default.func,t.default.bool]).isRequired,children:t.default.oneOfType([t.default.func,t.default.node])},d.defaultProps={children:null},c.propTypes={condition:t.default.oneOfType([t.default.func,t.default.bool]).isRequired,children:t.default.oneOfType([t.default.func,t.default.node])},c.defaultProps={children:null},f.propTypes={condition:t.default.oneOfType([t.default.func,t.default.bool]).isRequired,children:t.default.oneOfType([t.default.func,t.default.node])},f.defaultProps={children:null},m.propTypes={children:t.default.oneOfType([t.default.func,t.default.node])},m.defaultProps={children:null};var p=t.default.oneOfType([t.default.instanceOf(f),t.default.instanceOf(m),t.default.node]);h.propTypes={children:t.default.oneOfType([t.default.arrayOf(p),p])},h.defaultProps={children:null},s.Then=r,s.Else=i,s.When=c,s.Unless=d,s.Switch=h,s.Case=f,s.Default=m;var y=s;e.default=y})?n.apply(t,l):n)||(e.exports=o)},427:function(e,t,a){}}]);
//# sourceMappingURL=102.1351ae62.chunk.js.map