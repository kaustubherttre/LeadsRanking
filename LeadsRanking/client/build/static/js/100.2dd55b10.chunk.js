(this.webpackJsonpMatrix_Dashboard=this.webpackJsonpMatrix_Dashboard||[]).push([[100,126],{1290:function(e,t,a){"use strict";a.r(t);var n=a(123),l=a(39),i=a(40),o=a(121),d=a(42),r=a(41),c=a(0),s=a.n(c),u=a(420),f=a(1262),m=a(1336),p=a(61),h=a(124),y=(a(425),a(30)),C=a(431),D=(a(125),a(91),a(51)),b=a.n(D),g=a(92),v=(a(187),a(430)),E=(a(427),a(90)),O=a(530),T=a(424),I=a(531),M=a(533),k=a(532),w=function(e){Object(d.a)(a,e);var t=Object(r.a)(a);function a(e){var n;Object(l.a)(this,a),(n=t.call(this,e)).validationdate=function(e){return!e.isBefore(b()(n.state.maxdate))},n.state={isLoaded:!1,showModal:!1,items:[],store:[],activePage:1,root:"UserCallDetails",PageTitle:"User Call Details",FormTitle:"",formvalue:{},event:"",ModalValueChanged:!1,user:{},prolist:"",agentranklist:"",leadranklist:"",empid:"",leadid:"",CallDate:b()().format("YYYY-MM-DD"),maxdate:b()().subtract(59,"days").format("YYYY-MM-DD"),AwsRecordingUrl:"",RecordingName:"",addClass:"fa fa-play-circle",callid:""},n.handleClose=n.handleClose.bind(Object(o.a)(n)),n.handleShow=n.handleShow.bind(Object(o.a)(n)),n.empchange=n.empchange.bind(Object(o.a)(n)),n.leadchange=n.leadchange.bind(Object(o.a)(n)),n.selectedrow={CallDataId:0,CallID:null,LeadID:null},n.columnlist=[{name:"CDH.CallDataId",label:"CallDataId",alias:"calldataid",type:"hidden",hide:!0},{name:"CDH.callid",label:"callid",alias:"callid",type:"hidden",hide:!0},{name:"UD.EmployeeId",label:"EmployeeId",alias:"empid",type:"string"},{name:"CDH.LeadID",label:"LeadID",alias:"leadid",type:"string"},{name:"CallDate",label:"CallDate",type:"datetime",width:"150px"},{name:"CDH.Duration",label:"Duration",alias:"duration",type:"number"},{name:"CDH.talktime",label:"talktime",alias:"talktime",type:"number"},{name:"CDH.CallType",label:"CallType",alias:"calltype",type:"string"},{name:"CDH.Disposition",label:"Disposition",alias:"disposition",type:"string"},{name:"CDH.Context",label:"Context",alias:"context",type:"string"},{name:"CDH.CallDataId",label:"AgentListen",alias:"CallDataId",cell:function(e){return s.a.createElement("div",{className:"listenUserDetails"},s.a.createElement("span",{id:"span_agent"+e.CallDataId,onClick:function(t){return n.CreateRecordingURL(t,e,"agent")}},s.a.createElement("i",{class:"fa fa-play-circle listen"})))}},{name:"CDH.CallDataId",label:"CustomerListen",alias:"CallDataId",cell:function(e){return s.a.createElement("div",{className:"listenUserDetails"},s.a.createElement("span",{id:"span_customer"+e.CallDataId,onClick:function(t){return n.CreateRecordingURL(t,e,"customer")}},s.a.createElement("i",{class:"fa fa-play-circle listen"})))}},{name:"CDH.CallDataId",label:"CombinedListen",alias:"CallDataId",cell:function(e){return s.a.createElement("div",{className:"listenUserDetails"},s.a.createElement("span",{id:"span_combined"+e.CallDataId,onClick:function(t){return n.CreateRecordingURL(t,e,"combined")}},s.a.createElement("i",{class:"fa fa-play-circle listen"})))}}];return n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.columnlist.map((function(t){return Object(E.c)(t,e.props)})),setTimeout(function(){this.setState({user:Object(E.j)()})}.bind(this),500)}},{key:"fnBindStore",value:function(e,t){var a;"dropdown"==e.type&&(t.CommonData[this.state.root]&&t.CommonData[e.config.root]&&(a=Object(E.l)(t.CommonData[this.state.root],t.CommonData[e.config.root],e.name),this.setState({items:a})))}},{key:"componentWillReceiveProps",value:function(e){var t=this;e.CommonData.isError||(this.setState({items:e.CommonData[this.state.root]}),this.setState({store:e.CommonData}),this.columnlist.map((function(a){return t.fnBindStore(a,e)})))}},{key:"CreateRecordingURL",value:function(e,t,a){this.play(t.CallDataId,t,a)}},{key:"play",value:function(e,t,a){console.log(a);var n="";"agent"==a?n="-out.wav":"customer"==a?n="-in.wav":"combined"==a&&(n=".wav");var l=document.getElementById("audio1");if(l.paused){var i=t.callid;this.state.AwsRecordingUrl="",document.getElementById("span_"+a+e).innerHTML='<i class="fa fa-spinner fa-spin"></i>',Object(p.u)(i,function(t){var i="";"agent"==a?i=t.data.agent_file:"customer"==a?i=t.data.customer_file:"combined"==a&&(i=t.data.file_available),1==i?Object(p.e)(t.data.record+n,"newcctecbuckt",function(t){console.log("results",t),200==t.data.status?(this.setState({AwsRecordingUrl:t.data.data}),l.src=t.data.data,document.getElementById("span_"+a+e).innerHTML='<i class="fa fa-spinner fa-spin"></i>',l.onloadedmetadata=function(){console.log(l.duration),l.play(),console.log(l.duration),0==l.paused&&l.duration>0&&"Infinity"!=l.duration&&"NaN"!=l.duration?(document.getElementById("span_"+a+e).innerHTML='<i class="fa fa-stop-circle listen"></i>',l.onended=function(){document.getElementById("span_"+a+e).innerHTML='<i class="fa fa-play-circle listen"></i>'}):document.getElementById("span_"+a+e).innerHTML="No File Found"}):document.getElementById("span_"+a+e).innerHTML="No File Found"}.bind(this)):document.getElementById("span_"+a+e).innerHTML="No File Name Found"}.bind(this))}else l.pause(),l.currentTime=0,document.getElementById("span_"+a+e).innerHTML='<i class="fa fa-play-circle listen"></i>'}},{key:"fnDatatableCol",value:function(){return Object(E.e)(this.columnlist)}},{key:"handleCopy",value:function(e){this.setState({formvalue:Object.assign({},e,{}),event:"Copy",showModal:!0,FormTitle:"Copy Record"})}},{key:"handleEdit",value:function(e){this.setState({od:Object.assign({},e,{}),formvalue:Object.assign({},e,{}),event:"Edit",showModal:!0,FormTitle:"Edit Record"})}},{key:"handleClose",value:function(){this.setState({showModal:!1})}},{key:"handleShow",value:function(){this.setState({formvalue:this.selectedrow,event:"Add",showModal:!0,FormTitle:"Add New Record"})}},{key:"empchange",value:function(e,t){this.setState({empid:e.target.value})}},{key:"leadchange",value:function(e,t){this.setState({leadid:e.target.value})}},{key:"callIdchange",value:function(e,t){this.setState({callid:e.target.value})}},{key:"CallDateChange",value:function(e,t){e._isAMomentObject&&this.setState({CallDate:e.format("YYYY-MM-DD")},(function(){}))}},{key:"fetchData",value:function(){console.log(this.state.leadid+this.state.empid);var e=[];""!=this.state.leadid&&e.push({"CDH.LeadID":this.state.leadid}),""!=this.state.callid&&e.push({"CDH.CallID":this.state.callid}),""!=this.state.empid&&e.push({"UD.EmployeeId":this.state.empid}),""!=this.state.CallDate?(e.push({"CDH.CallDate":this.state.CallDate}),this.props.GetCommonData({limit:10,skip:0,root:this.state.root,cols:Object(E.a)(this.columnlist,"name"),c:"L",con:e})):Object(v.b)("Please select Date",{type:"error"})}},{key:"render",value:function(){var e,t=this,a=this.fnDatatableCol(),l=this.state,i=l.items,o=(l.PageTitle,l.showModal),d=l.FormTitle;l.formvalue,l.showAlert,l.AlertMsg,l.AlertVarient,l.ModalValueChanged,l.event;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"content"},s.a.createElement(v.a,null),s.a.createElement(O.a,null,s.a.createElement(T.a,{md:"12"},s.a.createElement(I.a,null,s.a.createElement(M.a,null,s.a.createElement(O.a,null,s.a.createElement(T.a,{md:2},s.a.createElement(u.a.Control,{type:"text",onChange:this.empchange,placeholder:"Enter EmployeeId"})),s.a.createElement(T.a,{md:2},s.a.createElement(u.a.Control,{type:"text",onChange:this.leadchange,placeholder:"Enter LeadId"})),s.a.createElement(T.a,{md:2},s.a.createElement(u.a.Control,{type:"text",onChange:this.callIdchange.bind(this),placeholder:"Enter CallId"})),s.a.createElement(T.a,{md:2},s.a.createElement(g,(e={value:new Date,dateFormat:"YYYY-MM-DD"},Object(n.a)(e,"value",this.state.CallDate),Object(n.a)(e,"isValidDate",this.validationdate),Object(n.a)(e,"onChange",(function(e){return t.CallDateChange(e)})),Object(n.a)(e,"utc",!0),Object(n.a)(e,"timeFormat",!1),e))),s.a.createElement(T.a,{md:1},s.a.createElement(f.a,{variant:"primary",onClick:function(){return t.fetchData()}},"Fetch")),s.a.createElement(T.a,{md:1}))),s.a.createElement(k.a,null,s.a.createElement(C.a,{columns:a,data:i}))))),s.a.createElement("audio",{src:"",id:"audio1"}),s.a.createElement(m.a,{show:o,onHide:this.handleClose,dialogClassName:"modal-90w"},s.a.createElement(m.a.Header,{closeButton:!0},s.a.createElement(m.a.Title,null,d)),s.a.createElement(m.a.Body,null),s.a.createElement(m.a.Footer,null))))}}]),a}(s.a.Component);t.default=Object(y.b)((function(e){return{CommonData:e.CommonData}}),{GetCommonData:p.g,InsertData:p.y,UpdateData:p.S,addRecord:h.d})(w)},425:function(e,t,a){var n,l,i;l=[t,a(6),a(0)],void 0===(i="function"===typeof(n=function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function l(e){return"function"===typeof e.children?a.default.createElement(a.default.Fragment,null,e.children()):a.default.createElement(a.default.Fragment,null,e.children||null)}function i(e){return!!("function"===typeof e?e():e)}function o(e){return l(e)}function d(e){return l(e)}function r(e){var t=e.condition,n=e.children;if(null==n)return null;var l=i(t);return a.default.createElement(a.default.Fragment,null,[].concat(n).find((function(e){return e.type!==a.default.createElement(d,null).type^!l}))||null)}Object.defineProperty(e,"__esModule",{value:!0}),e.Then=o,e.Else=d,e.If=r,e.Unless=s,e.When=u,e.Case=f,e.Default=m,e.Switch=p,e.default=void 0,t=n(t),a=n(a),o.propTypes=d.propTypes={children:t.default.oneOfType([t.default.func,t.default.node])};var c=t.default.oneOfType([t.default.instanceOf(o),t.default.instanceOf(d),t.default.node]);function s(e){var t=e.condition,a=e.children;return!i(t)&&a?l({condition:t,children:a}):null}function u(e){var t=e.condition,a=e.children;return i(t)&&a?l({condition:t,children:a}):null}function f(e){return l(e)}function m(e){return l(e)}function p(e){var t,n,l=e.children;return a.default.Children.forEach(l,(function(e){a.default.isValidElement(e)&&(t||e.type!==f?n||e.type!==m||(n=e):i(e.props.condition)&&(t=e))})),t||n||null}r.propTypes={condition:t.default.oneOfType([t.default.func,t.default.bool]).isRequired,children:t.default.oneOfType([t.default.arrayOf(c),c])},s.propTypes={condition:t.default.oneOfType([t.default.func,t.default.bool]).isRequired,children:t.default.oneOfType([t.default.func,t.default.node])},s.defaultProps={children:null},u.propTypes={condition:t.default.oneOfType([t.default.func,t.default.bool]).isRequired,children:t.default.oneOfType([t.default.func,t.default.node])},u.defaultProps={children:null},f.propTypes={condition:t.default.oneOfType([t.default.func,t.default.bool]).isRequired,children:t.default.oneOfType([t.default.func,t.default.node])},f.defaultProps={children:null},m.propTypes={children:t.default.oneOfType([t.default.func,t.default.node])},m.defaultProps={children:null};var h=t.default.oneOfType([t.default.instanceOf(f),t.default.instanceOf(m),t.default.node]);p.propTypes={children:t.default.oneOfType([t.default.arrayOf(h),h])},p.defaultProps={children:null},r.Then=o,r.Else=d,r.When=u,r.Unless=s,r.Switch=p,r.Case=f,r.Default=m;var y=r;e.default=y})?n.apply(t,l):n)||(e.exports=i)},427:function(e,t,a){}}]);
//# sourceMappingURL=100.2dd55b10.chunk.js.map